


<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>EVCControlMechanism &mdash; PsyNeuLink 0.7.5.4+35.gf391678 documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!-- <link rel="stylesheet" href="_static/pygments.css" type="text/css" /> -->
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="EVCAuxiliary" href="EVCAuxiliary.html" />
    <link rel="prev" title="EVC" href="EVC.html" /> 

  
  <script src="_static/js/modernizr.min.js"></script>

  <!-- Preload the theme fonts -->

<link rel="preload" href="_static/fonts/FreightSans/freight-sans-book.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="_static/fonts/FreightSans/freight-sans-medium.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="_static/fonts/IBMPlexMono/IBMPlexMono-Medium.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="_static/fonts/FreightSans/freight-sans-bold.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="_static/fonts/FreightSans/freight-sans-medium-italic.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="_static/fonts/IBMPlexMono/IBMPlexMono-SemiBold.woff2" as="font" type="font/woff2" crossorigin="anonymous">

<!-- Preload the katex fonts -->

<link rel="preload" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/fonts/KaTeX_Math-Italic.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/fonts/KaTeX_Main-Regular.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/fonts/KaTeX_Main-Bold.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/fonts/KaTeX_Size1-Regular.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/fonts/KaTeX_Size4-Regular.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/fonts/KaTeX_Size2-Regular.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/fonts/KaTeX_Size3-Regular.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/fonts/KaTeX_Caligraphic-Regular.woff2" as="font" type="font/woff2" crossorigin="anonymous">
</head>

<div class="container-fluid header-holder tutorials-header" id="header-holder">
  <div class="container">
    <div class="header-container">
      <a class="header-logo" href="https://princetonuniversity.github.io/PsyNeuLink/"></a>
<!--      <a class="header-logo"></a>-->
      <div class="main-menu">
        <ul>
          <li>
            <a href="https://github.com/PrincetonUniversity/PsyNeuLink">Github</a>
          </li>
        </ul>
      </div>

      <a class="main-menu-open-button" href="#" data-behavior="open-mobile-menu"></a>
    </div>

  </div>
</div>


<body class="psyneulink-body">

   

    

    <div class="table-of-contents-link-wrapper">
      <span>Table of Contents</span>
      <a href="#" class="toggle-table-of-contents" data-behavior="toggle-table-of-contents"></a>
    </div>

    <nav data-toggle="wy-nav-shift" class="psyneulink-left-menu" id="psyneulink-left-menu">
      <div class="psyneulink-side-scroll">
        <div class="psyneulink-menu psyneulink-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          <div class="psyneulink-left-menu-search">
            

            
              
              
                <div class="version">
                  0.7.5.4+35
                </div>
              
            

            


  


<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search Docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

            
          </div>

          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="index.html">Welcome to PsyNeuLink </a></li>
<li class="toctree-l1"><a class="reference internal" href="BasicsAndPrimer.html">Basics and Primer</a></li>
<li class="toctree-l1"><a class="reference internal" href="QuickReference.html">Quick Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="Core.html">Core</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="Library.html">Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="ContributorsGuide.html">Contributors Guide</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <div class="psyneulink-container">
      <div class="psyneulink-page-level-bar" id="psyneulink-page-level-bar">
        <div class="psyneulink-breadcrumbs-wrapper">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="psyneulink-breadcrumbs">
    
      <li>
        <a href="index.html">
          
            Docs
          
        </a> &gt;
      </li>

        
          <li><a href="Library.html">Library</a> &gt;</li>
        
          <li><a href="Subystems.html">Subsystems</a> &gt;</li>
        
          <li><a href="EVC.html">EVC</a> &gt;</li>
        
      <li>EVCControlMechanism</li>
    
  </ul>

  
</div>
        </div>

        <div class="psyneulink-shortcuts-wrapper" id="psyneulink-shortcuts-wrapper">
          Shortcuts
        </div>
      </div>

      <section data-toggle="wy-nav-shift" id="psyneulink-content-wrap" class="psyneulink-content-wrap">
        <div class="psyneulink-content-left">

        
          
          <div class="rst-content">
          
            <div role="main" class="main-content" itemscope="itemscope" itemtype="http://schema.org/Article">
             <article itemprop="articleBody" id="psyneulink-article" class="psyneulink-article">
              
  <div class="section" id="module-psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism">
<span id="evccontrolmechanism"></span><h1>EVCControlMechanism<a class="headerlink" href="#module-psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism" title="Permalink to this headline">¶</a></h1>
<div class="section" id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<p>An EVCControlMechanism is a <a class="reference internal" href="ControlMechanism.html"><span class="doc">ControlMechanism</span></a> that regulates it <a class="reference internal" href="ControlSignal.html"><span class="doc">ControlSignals</span></a> in
order to optimize the performance of the System to which it belongs.  EVCControlMechanism is one of the most
powerful, but also one of the most complex components in PsyNeuLink.  It is designed to implement a form of the
Expected Value of Control (EVC) Theory described in <a class="reference external" href="https://www.ncbi.nlm.nih.gov/pubmed/23889930">Shenhav et al. (2013)</a>, which provides useful background concerning the purpose and
structure of the EVCControlMechanism.</p>
<p>An EVCControlMechanism is similar to a standard <a class="reference internal" href="ControlMechanism.html"><span class="doc">Control Mechanisms</span></a>, with the following exceptions:</p>
<blockquote>
<div><ul class="simple">
<li>it can only be assigned to a System as its <a class="reference internal" href="System.html#psyneulink.core.components.system.System.controller" title="psyneulink.core.components.system.System.controller"><code class="xref any py py-attr docutils literal"><span class="pre">controller</span></code></a>, and not in any other capacity
(see <a class="reference internal" href="ControlMechanism.html#controlmechanism-composition-controller"><span class="std std-ref">ControlMechanisms and a Composition</span></a>);</li>
</ul>
<ul class="simple">
<li>it has several specialized functions that are used to search over the <code class="xref any docutils literal"><span class="pre">allocations</span></code>s
of its its <a class="reference internal" href="ControlSignal.html"><span class="doc">ControlSignals</span></a>, and evaluate the performance of its <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.system" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.system"><code class="xref any py py-attr docutils literal"><span class="pre">system</span></code></a>; by default, it simulates its <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.system" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.system"><code class="xref any py py-attr docutils literal"><span class="pre">system</span></code></a> and evaluates
its performance under all combinations of ControlSignal values to find the one that optimizes the <a class="reference internal" href="#evccontrolmechanism-evc"><span class="std std-ref">Expected
Value of Control</span></a>, however its functions can be customized or replaced to implement
other optimization procedures.</li>
</ul>
<ul class="simple">
<li>it creates a specialized set of <code class="xref any docutils literal"><span class="pre">prediction</span> <span class="pre">Mechanisms</span></code> EVCControlMechanism_Prediction_Mechanisms` that are used to
simulate the performnace of its <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.system" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.system"><code class="xref any py py-attr docutils literal"><span class="pre">system</span></code></a>.</li>
</ul>
</div></blockquote>
<div class="section" id="expected-value-of-control-evc">
<span id="evccontrolmechanism-evc"></span><h3><em>Expected Value of Control (EVC)</em><a class="headerlink" href="#expected-value-of-control-evc" title="Permalink to this headline">¶</a></h3>
<p>The EVCControlMechanism uses it <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.function" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.function"><code class="xref any py py-attr docutils literal"><span class="pre">function</span></code></a> to select an <a class="reference internal" href="ControlMechanism.html#psyneulink.core.components.mechanisms.modulatory.control.controlmechanism.ControlMechanism.control_allocation" title="psyneulink.core.components.mechanisms.modulatory.control.controlmechanism.ControlMechanism.control_allocation"><code class="xref any py py-attr docutils literal"><span class="pre">control_allocation</span></code></a> for its
<a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.system" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.system"><code class="xref any py py-attr docutils literal"><span class="pre">system</span></code></a>.  In the <a class="reference internal" href="#evccontrolmechanism-default-configuration"><span class="std std-ref">default configuration</span></a>,
an EVCControlMechanism carries out an exhaustive evaluation of allocation policies, simulating its <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.system" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.system"><code class="xref any py py-attr docutils literal"><span class="pre">system</span></code></a> under each, and using an <a class="reference internal" href="ObjectiveMechanism.html"><span class="doc">ObjectiveMechanism</span></a> and several <a class="reference internal" href="#evccontrolmechanism-functions"><span class="std std-ref">auxiliary functions</span></a> to calculate the <strong>expected value of control (EVC)</strong> for each <a class="reference internal" href="ControlMechanism.html#psyneulink.core.components.mechanisms.modulatory.control.controlmechanism.ControlMechanism.control_allocation" title="psyneulink.core.components.mechanisms.modulatory.control.controlmechanism.ControlMechanism.control_allocation"><code class="xref any py py-attr docutils literal"><span class="pre">control_allocation</span></code></a>:
a cost-benefit analysis that weighs the <code class="xref any docutils literal"><span class="pre">cost</span></code> s performance for a given <a class="reference internal" href="ControlMechanism.html#psyneulink.core.components.mechanisms.modulatory.control.controlmechanism.ControlMechanism.control_allocation" title="psyneulink.core.components.mechanisms.modulatory.control.controlmechanism.ControlMechanism.control_allocation"><code class="xref any py py-attr docutils literal"><span class="pre">control_allocation</span></code></a>. The EVCControlMechanism
selects the <a class="reference internal" href="ControlMechanism.html#psyneulink.core.components.mechanisms.modulatory.control.controlmechanism.ControlMechanism.control_allocation" title="psyneulink.core.components.mechanisms.modulatory.control.controlmechanism.ControlMechanism.control_allocation"><code class="xref any py py-attr docutils literal"><span class="pre">control_allocation</span></code></a> that generates the maximum EVC, and implements that for the next <a class="reference internal" href="Time.html#psyneulink.core.scheduling.time.TimeScale.TRIAL" title="psyneulink.core.scheduling.time.TimeScale.TRIAL"><code class="xref any py py-attr docutils literal"><span class="pre">TRIAL</span></code></a>. Each step
of this procedure can be modified, or replaced entirely, by assigning custom functions to corresponding parameters of
the EVCControlMechanism, as described <a class="reference internal" href="#evccontrolmechanism-functions"><span class="std std-ref">below</span></a>.</p>
</div>
</div>
<div class="section" id="creating-an-evccontrolmechanism">
<span id="evccontrolmechanism-creation"></span><h2>Creating an EVCControlMechanism<a class="headerlink" href="#creating-an-evccontrolmechanism" title="Permalink to this headline">¶</a></h2>
<p>An EVCControlMechanism can be created in any of the ways used to <a class="reference internal" href="ControlMechanism.html#controlmechanism-creation"><span class="std std-ref">create a ControlMechanism</span></a>; it is also created automatically when a <a class="reference internal" href="System.html"><span class="doc">System</span></a> is created and the EVCControlMechanism
class is specified in the <strong>controller</strong> argument of the System’s constructor (see <a class="reference internal" href="System.html#system-creation"><span class="std std-ref">Creating a System</span></a>).  The
ObjectiveMechanism, the OutputPorts it monitors and evaluates, and the parameters controlled by an
EVCControlMechanism can be specified in the standard way for a ControlMechanism (see
<a class="reference internal" href="ControlMechanism.html#controlmechanism-objectivemechanism"><span class="std std-ref">Objective Mechanism</span></a> and <a class="reference internal" href="ControlMechanism.html#controlmechanism-controlsignals"><span class="std std-ref">Specifying Parameters to Control</span></a>, respectively).</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Although an EVCControlMechanism can be created on its own, it can only be assigned to, and executed within a <a class="reference internal" href="System.html"><span class="doc">System</span></a>
as the System’s <a class="reference internal" href="System.html#psyneulink.core.components.system.System.controller" title="psyneulink.core.components.system.System.controller"><code class="xref any py py-attr docutils literal"><span class="pre">controller</span></code></a>.</p>
</div>
<p>When an EVCControlMechanism is assigned to, or created by a System, it is assigned the OutputPorts to be monitored and
parameters to be controlled specified for that System (see <a class="reference internal" href="System.html#system-control"><span class="std std-ref">Control</span></a>), and a <a class="reference internal" href="#evccontrolmechanism-prediction-mechanisms"><span class="std std-ref">prediction Mechanism</span></a> is created for each <a class="reference internal" href="Utilities.html#psyneulink.core.globals.utilities.NodeRole.ORIGIN" title="psyneulink.core.globals.utilities.NodeRole.ORIGIN"><code class="xref any py py-attr docutils literal"><span class="pre">ORIGIN</span></code></a> Mechanism in the <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.system" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.system"><code class="xref any py py-attr docutils literal"><span class="pre">system</span></code></a>. The prediction Mechanisms are assigned to the EVCControlMechanism’s
<a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.prediction_mechanisms" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.prediction_mechanisms"><code class="xref any py py-attr docutils literal"><span class="pre">prediction_mechanisms</span></code></a> attribute. The OutputPorts used to determine an EVCControlMechanism’s control_allocation and
the parameters it controls can be listed using its show method. The EVCControlMechanism and the Components
associated with it in its <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.system" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.system"><code class="xref any py py-attr docutils literal"><span class="pre">system</span></code></a> can be displayed using the System’s
<a class="reference internal" href="System.html#psyneulink.core.components.system.System.show_graph" title="psyneulink.core.components.system.System.show_graph"><code class="xref any py py-meth docutils literal"><span class="pre">System.show_graph</span></code></a> method with its <strong>show_control</strong> argument assigned as <code class="xref any docutils literal"><span class="pre">True</span></code></p>
<p>An EVCControlMechanism that has been constructed automatically can be customized by assigning values to its
attributes (e.g., those described above, or its <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.function" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.function"><code class="xref any py py-attr docutils literal"><span class="pre">function</span></code></a> as described under
<a href="#id1"><span class="problematic" id="id2">`</span></a>EVCControlMechanism_Default_Configuration <a href="#id3"><span class="problematic" id="id4">`</span></a>below).</p>
</div>
<div class="section" id="structure">
<span id="evccontrolmechanism-structure"></span><h2>Structure<a class="headerlink" href="#structure" title="Permalink to this headline">¶</a></h2>
<p>An EVCControlMechanism must belong to a <a class="reference internal" href="System.html"><span class="doc">System</span></a> (identified in its <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.system" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.system"><code class="xref any py py-attr docutils literal"><span class="pre">system</span></code></a> attribute).
In addition to the standard Components of a <a class="reference internal" href="ControlMechanism.html"><span class="doc">Control Mechanisms</span></a>, has a specialized set of <a class="reference internal" href="#evccontrolmechanism-prediction-mechanisms"><span class="std std-ref">prediction mechanisms</span></a> and <a class="reference internal" href="#evccontrolmechanism-functions"><span class="std std-ref">functions</span></a> that it uses to simulate
and evaluate the performance of its <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.system" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.system"><code class="xref any py py-attr docutils literal"><span class="pre">system</span></code></a> under the influence of different values of
its <a class="reference internal" href="#evccontrolmechanism-controlsignals"><span class="std std-ref">ControlSignals</span></a>.  Each of these specialized Components is described below.</p>
<div class="section" id="input">
<span id="evccontrolmechanism-input"></span><h3><em>Input</em><a class="headerlink" href="#input" title="Permalink to this headline">¶</a></h3>
<div class="section" id="objectivemechanism">
<span id="evccontrolmechanism-objectivemechanism"></span><h4>ObjectiveMechanism<a class="headerlink" href="#objectivemechanism" title="Permalink to this headline">¶</a></h4>
<p>Like any ControlMechanism, an EVCControlMechanism receives its input from the <em>OUTCOME</em> <a class="reference internal" href="ObjectiveMechanism.html#objectivemechanism-output"><span class="std std-ref">OutputPort</span></a> of an <a class="reference internal" href="ObjectiveMechanism.html"><span class="doc">ObjectiveMechanism</span></a>, via a MappingProjection to its <a class="reference internal" href="InputPort.html#inputport-primary"><span class="std std-ref">primary InputPort</span></a>.  The ObjectiveMechanism is listed in the EVCControlMechanism’s <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.objective_mechanism" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.objective_mechanism"><code class="xref any py py-attr docutils literal"><span class="pre">objective_mechanism</span></code></a> attribute.  By default, the ObjectiveMechanism’s function is a
<a class="reference internal" href="CombinationFunctions.html#psyneulink.core.components.functions.combinationfunctions.LinearCombination" title="psyneulink.core.components.functions.combinationfunctions.LinearCombination"><code class="xref any py py-class docutils literal"><span class="pre">LinearCombination</span></code></a> function with its <a class="reference internal" href="CombinationFunctions.html#psyneulink.core.components.functions.combinationfunctions.LinearCombination.operation" title="psyneulink.core.components.functions.combinationfunctions.LinearCombination.operation"><code class="xref any py py-attr docutils literal"><span class="pre">operation</span></code></a> attribute assigned as <em>PRODUCT</em>;
this takes the product of the <a class="reference internal" href="OutputPort.html#psyneulink.core.components.ports.outputport.OutputPort.value" title="psyneulink.core.components.ports.outputport.OutputPort.value"><code class="xref any py py-attr docutils literal"><span class="pre">value</span></code></a>s of the OutputPorts that it monitors (listed in its
<code class="xref any docutils literal"><span class="pre">monitored_output_ports</span></code> attribute.  However, this can be customized
in a variety of ways:</p>
<blockquote>
<div><ul class="simple">
<li>by specifying a different <a class="reference internal" href="ObjectiveMechanism.html#psyneulink.core.components.mechanisms.processing.objectivemechanism.ObjectiveMechanism.function" title="psyneulink.core.components.mechanisms.processing.objectivemechanism.ObjectiveMechanism.function"><code class="xref any py py-attr docutils literal"><span class="pre">function</span></code></a> for the ObjectiveMechanism
(see <a class="reference internal" href="ObjectiveMechanism.html#objectivemechanism-weights-and-exponents-example"><span class="std std-ref">Objective Mechanism Examples</span></a> for an example);</li>
</ul>
<ul class="simple">
<li>using a list to specify the OutputPorts to be monitored  (and the <a class="reference internal" href="InputPort.html#inputport-tuple-specification"><span class="std std-ref">tuples format</span></a> to specify weights and/or exponents for them) in either the
<strong>monitor_for_control</strong> or <strong>objective_mechanism</strong> arguments of the EVCControlMechanism’s constructor;</li>
</ul>
<ul class="simple">
<li>using the  <strong>monitored_output_ports</strong> argument for an ObjectiveMechanism specified in the <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.objective_mechanism" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.objective_mechanism"><code class="xref any py py-attr docutils literal"><span class="pre">objective_mechanism</span></code></a> argument of the EVCControlMechanism’s constructor;</li>
</ul>
<ul class="simple">
<li>specifying a different <a class="reference internal" href="ObjectiveMechanism.html"><span class="doc">ObjectiveMechanism</span></a> in the <strong>objective_mechanism</strong> argument of the EVCControlMechanism’s
constructor. The result of the <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.objective_mechanism" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.objective_mechanism"><code class="xref any py py-attr docutils literal"><span class="pre">objective_mechanism</span></code></a>’s <a class="reference internal" href="ObjectiveMechanism.html#psyneulink.core.components.mechanisms.processing.objectivemechanism.ObjectiveMechanism.function" title="psyneulink.core.components.mechanisms.processing.objectivemechanism.ObjectiveMechanism.function"><code class="xref any py py-attr docutils literal"><span class="pre">function</span></code></a> is used as the outcome in the calculations described below.</li>
</ul>
<div class="admonition note" id="evccontrolmechanism-objective-mechanism-function-note">
<p class="first admonition-title">Note</p>
<p class="last">If a constructor for an <a class="reference internal" href="ObjectiveMechanism.html"><span class="doc">ObjectiveMechanism</span></a> is used for the <strong>objective_mechanism</strong> argument of the
EVCControlMechanism’s constructor, then the default values of its attributes override any used by the
EVCControlMechanism for its <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.objective_mechanism" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.objective_mechanism"><code class="xref any py py-attr docutils literal"><span class="pre">objective_mechanism</span></code></a>.  In particular,
whereas an EVCControlMechanism uses the same default <a class="reference internal" href="ObjectiveMechanism.html#psyneulink.core.components.mechanisms.processing.objectivemechanism.ObjectiveMechanism.function" title="psyneulink.core.components.mechanisms.processing.objectivemechanism.ObjectiveMechanism.function"><code class="xref any py py-attr docutils literal"><span class="pre">function</span></code></a> as an
<a class="reference internal" href="ObjectiveMechanism.html"><span class="doc">ObjectiveMechanism</span></a> (<a class="reference internal" href="CombinationFunctions.html#psyneulink.core.components.functions.combinationfunctions.LinearCombination" title="psyneulink.core.components.functions.combinationfunctions.LinearCombination"><code class="xref any py py-class docutils literal"><span class="pre">LinearCombination</span></code></a>), it uses <em>PRODUCT</em> rather than <em>SUM</em> as the default value of the
<a class="reference internal" href="CombinationFunctions.html#psyneulink.core.components.functions.combinationfunctions.LinearCombination.operation" title="psyneulink.core.components.functions.combinationfunctions.LinearCombination.operation"><code class="xref any py py-attr docutils literal"><span class="pre">operation</span></code></a> attribute of the function.  As a consequence, if the constructor for
an ObjectiveMechanism is used to specify the EVCControlMechanism’s <strong>objective_mechanism</strong> argument,
and the <strong>operation</strong> argument is not specified, <em>SUM</em> rather than <em>PRODUCT</em> will be used for the
ObjectiveMechanism’s <a class="reference internal" href="ObjectiveMechanism.html#psyneulink.core.components.mechanisms.processing.objectivemechanism.ObjectiveMechanism.function" title="psyneulink.core.components.mechanisms.processing.objectivemechanism.ObjectiveMechanism.function"><code class="xref any py py-attr docutils literal"><span class="pre">function</span></code></a>.  To ensure that <em>PRODUCT</em> is used, it must be
specified explicitly in the <strong>operation</strong> argument of the constructor for the ObjectiveMechanism (see 1st
example under <a class="reference internal" href="System.html#system-control-examples"><span class="std std-ref">Specifying Control for a System</span></a>).</p>
</div>
</div></blockquote>
<p>The result of the EVCControlMechanism’s <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.objective_mechanism" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.objective_mechanism"><code class="xref any py py-attr docutils literal"><span class="pre">objective_mechanism</span></code></a> is used by
its <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.function" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.function"><code class="xref any py py-attr docutils literal"><span class="pre">function</span></code></a> to evaluate the performance of its <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.system" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.system"><code class="xref any py py-attr docutils literal"><span class="pre">System</span></code></a>
when computing the <a class="reference internal" href="#evccontrolmechanism-evc"><span class="std std-ref">EVC</span></a>.</p>
</div>
<div class="section" id="prediction-mechanisms">
<span id="evccontrolmechanism-prediction-mechanisms"></span><h4>Prediction Mechanisms<a class="headerlink" href="#prediction-mechanisms" title="Permalink to this headline">¶</a></h4>
<p>These are used to provide input to the <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.system" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.system"><code class="xref any py py-attr docutils literal"><span class="pre">system</span></code></a> if the EVCControlMechanism’s
<a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.function" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.function"><code class="xref any py py-attr docutils literal"><span class="pre">function</span></code></a> (<a class="reference internal" href="EVCAuxiliary.html#psyneulink.library.components.mechanisms.modulatory.control.evc.evcauxiliary.ControlSignalGridSearch" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evcauxiliary.ControlSignalGridSearch"><code class="xref any py py-class docutils literal"><span class="pre">ControlSignalGridSearch</span></code></a>) <a class="reference internal" href="#evccontrolmechanism-default-configuration"><span class="std std-ref">simulates its execution</span></a> to evaluate the EVC for a given <a class="reference internal" href="ControlMechanism.html#psyneulink.core.components.mechanisms.modulatory.control.controlmechanism.ControlMechanism.control_allocation" title="psyneulink.core.components.mechanisms.modulatory.control.controlmechanism.ControlMechanism.control_allocation"><code class="xref any py py-attr docutils literal"><span class="pre">control_allocation</span></code></a>.  When an
EVCControlMechanism is created, a prediction Mechanism is created for each <a class="reference internal" href="Utilities.html#psyneulink.core.globals.utilities.NodeRole.ORIGIN" title="psyneulink.core.globals.utilities.NodeRole.ORIGIN"><code class="xref any py py-attr docutils literal"><span class="pre">ORIGIN</span></code></a> Mechanism in its <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.system" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.system"><code class="xref any py py-attr docutils literal"><span class="pre">system</span></code></a>, and are listed in the EVCControlMechanism’s <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.prediction_mechanisms" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.prediction_mechanisms"><code class="xref any py py-attr docutils literal"><span class="pre">prediction_mechanisms</span></code></a> attribute in the same order as the <a class="reference internal" href="Utilities.html#psyneulink.core.globals.utilities.NodeRole.ORIGIN" title="psyneulink.core.globals.utilities.NodeRole.ORIGIN"><code class="xref any py py-attr docutils literal"><span class="pre">ORIGIN</span></code></a> Mechanisms are
listed in the <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.system" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.system"><code class="xref any py py-attr docutils literal"><span class="pre">system</span></code></a>’s <a class="reference internal" href="System.html#psyneulink.core.components.system.System.origin_mechanisms" title="psyneulink.core.components.system.System.origin_mechanisms"><code class="xref any py py-attr docutils literal"><span class="pre">origin_mechanisms</span></code></a> attribute.
For each <a class="reference internal" href="Projection.html"><span class="doc">Projection</span></a> received by an <a class="reference internal" href="Utilities.html#psyneulink.core.globals.utilities.NodeRole.ORIGIN" title="psyneulink.core.globals.utilities.NodeRole.ORIGIN"><code class="xref any py py-attr docutils literal"><span class="pre">ORIGIN</span></code></a> Mechanism, a <a class="reference internal" href="MappingProjection.html"><span class="doc">MappingProjection</span></a> from the same source is
created that projects to the corresponding prediction Mechanism.  By default, the <a class="reference internal" href="EVCAuxiliary.html#psyneulink.library.components.mechanisms.modulatory.control.evc.evcauxiliary.PredictionMechanism" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evcauxiliary.PredictionMechanism"><code class="xref any py py-class docutils literal"><span class="pre">PredictionMechanism</span></code></a> subclass  is
used for all prediction mechanisms, which calculates an exponentially weighted time-average of its input over (
non-simuated) trials, that is provided as input to the corresponding <a class="reference internal" href="Utilities.html#psyneulink.core.globals.utilities.NodeRole.ORIGIN" title="psyneulink.core.globals.utilities.NodeRole.ORIGIN"><code class="xref any py py-attr docutils literal"><span class="pre">ORIGIN</span></code></a> Mechanism on each simulated trial.
However, any other type of Mechanism can be used as a prediction mechanism, so long as it has the same number of
<a class="reference internal" href="InputPort.html"><span class="doc">InputPorts</span></a> as the <a class="reference internal" href="Utilities.html#psyneulink.core.globals.utilities.NodeRole.ORIGIN" title="psyneulink.core.globals.utilities.NodeRole.ORIGIN"><code class="xref any py py-attr docutils literal"><span class="pre">ORIGIN</span></code></a> Mechanism to which it corresponds, and an <a class="reference internal" href="OutputPort.html"><span class="doc">OutputPort</span></a> corresponding to
each.  The default type is a <a class="reference internal" href="EVCAuxiliary.html#psyneulink.library.components.mechanisms.modulatory.control.evc.evcauxiliary.PredictionMechanism" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evcauxiliary.PredictionMechanism"><code class="xref any py py-class docutils literal"><span class="pre">PredictionMechanism</span></code></a>, that calculates an exponentially weighted time-average of its
input. The prediction mechanisms can be customized using the <em>prediction_mechanisms</em> argument of the
EVCControlMechanism’s constructor, which can be specified using any of the following formats:</p>
<blockquote>
<div><ul class="simple">
<li><strong>Mechanism</strong> – convenience format for cases in which the EVCControlMechanism’s <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.system" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.system"><code class="xref any py py-attr docutils literal"><span class="pre">system</span></code></a> has a single <a class="reference internal" href="Utilities.html#psyneulink.core.globals.utilities.NodeRole.ORIGIN" title="psyneulink.core.globals.utilities.NodeRole.ORIGIN"><code class="xref any py py-attr docutils literal"><span class="pre">ORIGIN</span></code></a> Mechanism;  the Mechanism must have the same number of
<a class="reference internal" href="InputPort.html"><span class="doc">InputPorts</span></a> as the <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.system" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.system"><code class="xref any py py-attr docutils literal"><span class="pre">system</span></code></a>’s <a class="reference internal" href="Utilities.html#psyneulink.core.globals.utilities.NodeRole.ORIGIN" title="psyneulink.core.globals.utilities.NodeRole.ORIGIN"><code class="xref any py py-attr docutils literal"><span class="pre">ORIGIN</span></code></a> Mechanism, and
an <a class="reference internal" href="OutputPort.html"><span class="doc">OutputPort</span></a> for each.</li>
</ul>
<ul class="simple">
<li><strong>Mechanism subclass</strong> – used as the class for all prediction mechanisms; a default instance of that class
is created for each prediction mechanism, with a number of InputPorts and OutputPorts equal to the number of
InputPorts of the <a class="reference internal" href="Utilities.html#psyneulink.core.globals.utilities.NodeRole.ORIGIN" title="psyneulink.core.globals.utilities.NodeRole.ORIGIN"><code class="xref any py py-attr docutils literal"><span class="pre">ORIGIN</span></code></a> Mechanism to which it corresponds.</li>
</ul>
<ul class="simple">
<li><strong>dict</strong> – a <a class="reference internal" href="ParameterPort.html#parameterport-specification"><span class="std std-ref">parameter specification dictionary</span></a> specifying the parameters to be
assigned to all prediction mechanisms, all of which are instances of a <a class="reference internal" href="EVCAuxiliary.html#psyneulink.library.components.mechanisms.modulatory.control.evc.evcauxiliary.PredictionMechanism" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evcauxiliary.PredictionMechanism"><code class="xref any py py-class docutils literal"><span class="pre">PredictionMechanism</span></code></a> (thus, the parameters
specified must be appropriate for a PredictionMechanism).</li>
</ul>
<ul class="simple">
<li><strong>2-item tuple:</strong> <em>(Mechanism subclass, dict)</em> – the Mechanism subclass, and parameters specified in
the <a class="reference internal" href="ParameterPort.html#parameterport-specification"><span class="std std-ref">parameter specification dictionary</span></a>, are used for all prediction mechanisms.</li>
</ul>
<ul class="simple">
<li><strong>list</strong> – its length must equal the number of <a class="reference internal" href="Utilities.html#psyneulink.core.globals.utilities.NodeRole.ORIGIN" title="psyneulink.core.globals.utilities.NodeRole.ORIGIN"><code class="xref any py py-attr docutils literal"><span class="pre">ORIGIN</span></code></a> Mechanisms in the EVCControlMechanism’s <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.system" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.system"><code class="xref any py py-attr docutils literal"><span class="pre">system</span></code></a> each item must be a Mechanism, a subclass of one, or a 2-item tuple (see above),
that is used as the specification for the prediction Mechanism for the corresponding <a class="reference internal" href="Utilities.html#psyneulink.core.globals.utilities.NodeRole.ORIGIN" title="psyneulink.core.globals.utilities.NodeRole.ORIGIN"><code class="xref any py py-attr docutils literal"><span class="pre">ORIGIN</span></code></a> Mechanism listed in
the System’s <a class="reference internal" href="System.html#psyneulink.core.components.system.System.origin_mechanisms" title="psyneulink.core.components.system.System.origin_mechanisms"><code class="xref any py py-attr docutils literal"><span class="pre">origin_mechanisms</span></code></a> attribute.</li>
</ul>
</div></blockquote>
<p>The prediction mechanisms for an EVCControlMechanism are listed in its <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.prediction_mechanisms" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.prediction_mechanisms"><code class="xref any py py-attr docutils literal"><span class="pre">prediction_mechanisms</span></code></a> attribute.</p>
</div>
</div>
<div class="section" id="function">
<span id="evccontrolmechanism-functions"></span><h3><em>Function</em><a class="headerlink" href="#function" title="Permalink to this headline">¶</a></h3>
<p>By default, the primary <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.function" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.function"><code class="xref any py py-attr docutils literal"><span class="pre">function</span></code></a> is <a class="reference internal" href="EVCAuxiliary.html#psyneulink.library.components.mechanisms.modulatory.control.evc.evcauxiliary.ControlSignalGridSearch" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evcauxiliary.ControlSignalGridSearch"><code class="xref any py py-class docutils literal"><span class="pre">ControlSignalGridSearch</span></code></a> (see
<a class="reference internal" href="#evccontrolmechanism-default-configuration"><span class="std std-ref">Default Configuration of EVC Function and its Auxiliary Functions</span></a>), that systematically evaluates the effects of its ControlSignals on the
performance of its <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.system" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.system"><code class="xref any py py-attr docutils literal"><span class="pre">system</span></code></a> to identify an <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.control_allocation" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.control_allocation"><code class="xref any py py-attr docutils literal"><span class="pre">control_allocation</span></code></a> that yields the highest <a class="reference internal" href="#evccontrolmechanism-evc"><span class="std std-ref">EVC</span></a>.  However,
any function can be used that returns an appropriate value (i.e., that specifies an <a class="reference internal" href="ControlMechanism.html#psyneulink.core.components.mechanisms.modulatory.control.controlmechanism.ControlMechanism.control_allocation" title="psyneulink.core.components.mechanisms.modulatory.control.controlmechanism.ControlMechanism.control_allocation"><code class="xref any py py-attr docutils literal"><span class="pre">control_allocation</span></code></a> for the
number of <a class="reference internal" href="#evccontrolmechanism-controlsignals"><span class="std std-ref">ControlSignals</span></a> in the EVCControlMechanism’s <a class="reference internal" href="ControlMechanism.html#psyneulink.core.components.mechanisms.modulatory.control.controlmechanism.ControlMechanism.control_signals" title="psyneulink.core.components.mechanisms.modulatory.control.controlmechanism.ControlMechanism.control_signals"><code class="xref any py py-attr docutils literal"><span class="pre">control_signals</span></code></a>
attribute, using the correct format for the <a class="reference internal" href="ControlSignal.html#psyneulink.core.components.ports.modulatorysignals.controlsignal.ControlSignal.allocation" title="psyneulink.core.components.ports.modulatorysignals.controlsignal.ControlSignal.allocation"><code class="xref any py py-attr docutils literal"><span class="pre">allocation</span></code></a> value of each ControlSignal).
In addition to its primary <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.function" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.function"><code class="xref any py py-attr docutils literal"><span class="pre">function</span></code></a>, an EVCControlMechanism has several auxiliary
functions, that can be used by its <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.function" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.function"><code class="xref any py py-attr docutils literal"><span class="pre">function</span></code></a> to calculate the EVC to select an
<a class="reference internal" href="ControlMechanism.html#psyneulink.core.components.mechanisms.modulatory.control.controlmechanism.ControlMechanism.control_allocation" title="psyneulink.core.components.mechanisms.modulatory.control.controlmechanism.ControlMechanism.control_allocation"><code class="xref any py py-attr docutils literal"><span class="pre">control_allocation</span></code></a> with the maximum EVC among a range of policies specified by its ControlSignals.  The default
set of functions and their operation are described in the section that follows;  however, the EVCControlMechanism’s
<a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.function" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.function"><code class="xref any py py-attr docutils literal"><span class="pre">function</span></code></a> can call any other function to customize how the EVC is calcualted.</p>
<div class="section" id="default-configuration-of-evc-function-and-its-auxiliary-functions">
<span id="evccontrolmechanism-default-configuration"></span><h4>Default Configuration of EVC Function and its Auxiliary Functions<a class="headerlink" href="#default-configuration-of-evc-function-and-its-auxiliary-functions" title="Permalink to this headline">¶</a></h4>
<p>In its default configuration, an EVCControlMechanism simulates and evaluates the performance of its <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.system" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.system"><code class="xref any py py-attr docutils literal"><span class="pre">system</span></code></a> under a set of allocation_policies determined by the <a class="reference internal" href="ControlSignal.html#psyneulink.core.components.ports.modulatorysignals.controlsignal.ControlSignal.allocation_samples" title="psyneulink.core.components.ports.modulatorysignals.controlsignal.ControlSignal.allocation_samples"><code class="xref any py py-attr docutils literal"><span class="pre">allocation_samples</span></code></a> attributes of its <a class="reference internal" href="#evccontrolmechanism-controlsignals"><span class="std std-ref">ControlSignals</span></a>, and
implements (for the next <a class="reference internal" href="Time.html#psyneulink.core.scheduling.time.TimeScale.TRIAL" title="psyneulink.core.scheduling.time.TimeScale.TRIAL"><code class="xref any py py-attr docutils literal"><span class="pre">TRIAL</span></code></a> of execution) the one that generates the maximum <a class="reference internal" href="#evccontrolmechanism-evc"><span class="std std-ref">EVC</span></a>.
This is carried out by the EVCControlMechanism’s default <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.function" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.function"><code class="xref any py py-attr docutils literal"><span class="pre">function</span></code></a> and three
auxiliary functions, as described below.</p>
<p>The default <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.function" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.function"><code class="xref any py py-attr docutils literal"><span class="pre">function</span></code></a> of an EVCControlMechanism is <a class="reference internal" href="EVCAuxiliary.html#psyneulink.library.components.mechanisms.modulatory.control.evc.evcauxiliary.ControlSignalGridSearch" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evcauxiliary.ControlSignalGridSearch"><code class="xref any py py-class docutils literal"><span class="pre">ControlSignalGridSearch</span></code></a>. It
identifies the <a class="reference internal" href="ControlMechanism.html#psyneulink.core.components.mechanisms.modulatory.control.controlmechanism.ControlMechanism.control_allocation" title="psyneulink.core.components.mechanisms.modulatory.control.controlmechanism.ControlMechanism.control_allocation"><code class="xref any py py-attr docutils literal"><span class="pre">control_allocation</span></code></a> with the maximum <a class="reference internal" href="#evccontrolmechanism-evc"><span class="std std-ref">EVC</span></a> by a conducting an exhaustive
search over every possible <a class="reference internal" href="ControlMechanism.html#psyneulink.core.components.mechanisms.modulatory.control.controlmechanism.ControlMechanism.control_allocation" title="psyneulink.core.components.mechanisms.modulatory.control.controlmechanism.ControlMechanism.control_allocation"><code class="xref any py py-attr docutils literal"><span class="pre">control_allocation</span></code></a>—&nbsp;that is, all combinations of <a class="reference internal" href="ControlSignal.html#psyneulink.core.components.ports.modulatorysignals.controlsignal.ControlSignal.allocation" title="psyneulink.core.components.ports.modulatorysignals.controlsignal.ControlSignal.allocation"><code class="xref any py py-attr docutils literal"><span class="pre">allocation</span></code></a>
values for its <a class="reference internal" href="#evccontrolmechanism-controlsignals"><span class="std std-ref">ControlSignals</span></a>, where the <a class="reference internal" href="ControlSignal.html#psyneulink.core.components.ports.modulatorysignals.controlsignal.ControlSignal.allocation" title="psyneulink.core.components.ports.modulatorysignals.controlsignal.ControlSignal.allocation"><code class="xref any py py-attr docutils literal"><span class="pre">allocation</span></code></a> values sampled for each ControlSignal are determined by its <a class="reference internal" href="ControlSignal.html#psyneulink.core.components.ports.modulatorysignals.controlsignal.ControlSignal.allocation_samples" title="psyneulink.core.components.ports.modulatorysignals.controlsignal.ControlSignal.allocation_samples"><code class="xref any py py-attr docutils literal"><span class="pre">allocation_samples</span></code></a>
attribute.  For each <a class="reference internal" href="ControlMechanism.html#psyneulink.core.components.mechanisms.modulatory.control.controlmechanism.ControlMechanism.control_allocation" title="psyneulink.core.components.mechanisms.modulatory.control.controlmechanism.ControlMechanism.control_allocation"><code class="xref any py py-attr docutils literal"><span class="pre">control_allocation</span></code></a>, the EVCControlMechanism executes the <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.system" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.system"><code class="xref any py py-attr docutils literal"><span class="pre">system</span></code></a>,
evaluates the <a class="reference internal" href="#evccontrolmechanism-evc"><span class="std std-ref">EVC</span></a> for that policy, and returns the <a class="reference internal" href="ControlMechanism.html#psyneulink.core.components.mechanisms.modulatory.control.controlmechanism.ControlMechanism.control_allocation" title="psyneulink.core.components.mechanisms.modulatory.control.controlmechanism.ControlMechanism.control_allocation"><code class="xref any py py-attr docutils literal"><span class="pre">control_allocation</span></code></a> that yields the
greatest EVC value. The following steps are used to calculate the EVC for each <a class="reference internal" href="ControlMechanism.html#psyneulink.core.components.mechanisms.modulatory.control.controlmechanism.ControlMechanism.control_allocation" title="psyneulink.core.components.mechanisms.modulatory.control.controlmechanism.ControlMechanism.control_allocation"><code class="xref any py py-attr docutils literal"><span class="pre">control_allocation</span></code></a>:</p>
<blockquote>
<div><ul class="simple">
<li><strong>Implement the policy and simulate the System</strong> - assign the <a class="reference internal" href="ControlSignal.html#psyneulink.core.components.ports.modulatorysignals.controlsignal.ControlSignal.allocation" title="psyneulink.core.components.ports.modulatorysignals.controlsignal.ControlSignal.allocation"><code class="xref any py py-attr docutils literal"><span class="pre">allocation</span></code></a> that the
selected <a class="reference internal" href="ControlMechanism.html#psyneulink.core.components.mechanisms.modulatory.control.controlmechanism.ControlMechanism.control_allocation" title="psyneulink.core.components.mechanisms.modulatory.control.controlmechanism.ControlMechanism.control_allocation"><code class="xref any py py-attr docutils literal"><span class="pre">control_allocation</span></code></a> specifies for each ControlSignal, and then simulate the <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.system" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.system"><code class="xref any py py-attr docutils literal"><span class="pre">system</span></code></a> using the corresponding parameter values by calling the System’s <code class="xref any docutils literal"><span class="pre">evaluate</span></code> method; this uses the <a class="reference internal" href="EVCAuxiliary.html#psyneulink.library.components.mechanisms.modulatory.control.evc.evcauxiliary.PredictionMechanism.value" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evcauxiliary.PredictionMechanism.value"><code class="xref any py py-attr docutils literal"><span class="pre">value</span></code></a> of eacah of the
EVCControlMechanism’s <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.prediction_mechanisms" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.prediction_mechanisms"><code class="xref any py py-attr docutils literal"><span class="pre">prediction_mechanisms</span></code></a> as input to the
corresponding <a class="reference internal" href="Utilities.html#psyneulink.core.globals.utilities.NodeRole.ORIGIN" title="psyneulink.core.globals.utilities.NodeRole.ORIGIN"><code class="xref any py py-attr docutils literal"><span class="pre">ORIGIN</span></code></a> Mechanisms of its <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.system" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.system"><code class="xref any py py-attr docutils literal"><span class="pre">system</span></code></a> (see <a class="reference internal" href="EVCAuxiliary.html#psyneulink.library.components.mechanisms.modulatory.control.evc.evcauxiliary.PredictionMechanism" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evcauxiliary.PredictionMechanism"><code class="xref any py py-class docutils literal"><span class="pre">PredictionMechanism</span></code></a>).  The
values of all <span class="xref std std-ref">stateful attributes</span> of ‘Components` in the System are <span class="xref std std-ref">re-initialized</span> to the same value
prior to each simulation, so that the results for each <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.control_allocation" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.control_allocation"><code class="xref any py py-attr docutils literal"><span class="pre">control_allocation</span></code></a>
are based on the same initial conditions.  Each simulation includes execution of the EVCControlMechanism’s
<a class="reference internal" href="AGTControlMechanism.html#psyneulink.library.components.mechanisms.modulatory.control.agt.agtcontrolmechanism.AGTControlMechanism.objective_mechanism" title="psyneulink.library.components.mechanisms.modulatory.control.agt.agtcontrolmechanism.AGTControlMechanism.objective_mechanism"><code class="xref any py py-attr docutils literal"><span class="pre">objective_mechanism</span></code></a>, which provides the result to the EVCControlMechanism.  If <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.system" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.system"><code class="xref any py py-attr docutils literal"><span class="pre">system</span></code></a>.recordSimulationPref is <code class="xref any docutils literal"><span class="pre">True</span></code>, the results of each simulation are appended to the
<code class="xref any docutils literal"><span class="pre">simulation_results</span></code> attribute of <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.system" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.system"><code class="xref any py py-attr docutils literal"><span class="pre">system</span></code></a>.</li>
<li><strong>Evaluate the System’s performance</strong> - this is carried out by the EVCControlMechanism’s <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.objective_mechanism" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.objective_mechanism"><code class="xref any py py-attr docutils literal"><span class="pre">objective_mechanism</span></code></a>, which is executed as part of the simulation of the System.  The
<a class="reference internal" href="ObjectiveMechanism.html#psyneulink.core.components.mechanisms.processing.objectivemechanism.ObjectiveMechanism.function" title="psyneulink.core.components.mechanisms.processing.objectivemechanism.ObjectiveMechanism.function"><code class="xref any py py-attr docutils literal"><span class="pre">function</span></code></a> for a default ObjectiveMechanism is a <a class="reference internal" href="CombinationFunctions.html#psyneulink.core.components.functions.combinationfunctions.LinearCombination" title="psyneulink.core.components.functions.combinationfunctions.LinearCombination"><code class="xref any py py-class docutils literal"><span class="pre">LinearCombination</span></code></a> Function that
combines the <a class="reference internal" href="OutputPort.html#psyneulink.core.components.ports.outputport.OutputPort.value" title="psyneulink.core.components.ports.outputport.OutputPort.value"><code class="xref any py py-attr docutils literal"><span class="pre">value</span></code></a>s of the OutputPorts listed in the EVCControlMechanism’s
<a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.monitored_output_ports" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.monitored_output_ports"><code class="xref any py py-attr docutils literal"><span class="pre">monitored_output_ports</span></code></a> attribute (and the <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.objective_mechanism" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.objective_mechanism"><code class="xref any py py-attr docutils literal"><span class="pre">objective_mechanism</span></code></a>’s <code class="xref any docutils literal"><span class="pre">monitored_output_ports</span></code>
attribute) by taking their elementwise (Hadamard) product.  However, this behavior can be customized in a variety
of ways, as described <a class="reference internal" href="#evccontrolmechanism-objectivemechanism"><span class="std std-ref">above</span></a>.</li>
<li><strong>Calculate EVC</strong> - call the EVCControlMechanism’s <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.value_function" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.value_function"><code class="xref any py py-attr docutils literal"><span class="pre">value_function</span></code></a> passing it
the outcome (received from the <a class="reference internal" href="AGTControlMechanism.html#psyneulink.library.components.mechanisms.modulatory.control.agt.agtcontrolmechanism.AGTControlMechanism.objective_mechanism" title="psyneulink.library.components.mechanisms.modulatory.control.agt.agtcontrolmechanism.AGTControlMechanism.objective_mechanism"><code class="xref any py py-attr docutils literal"><span class="pre">objective_mechanism</span></code></a>) and a list of the <a class="reference internal" href="ControlSignal.html#psyneulink.core.components.ports.modulatorysignals.controlsignal.ControlSignal.cost" title="psyneulink.core.components.ports.modulatorysignals.controlsignal.ControlSignal.cost"><code class="xref any py py-attr docutils literal"><span class="pre">costs</span></code></a> s of its
<a class="reference internal" href="#evccontrolmechanism-controlsignals"><span class="std std-ref">ControlSignals</span></a>.  The default <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.value_function" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.value_function"><code class="xref any py py-attr docutils literal"><span class="pre">value_function</span></code></a> calls two additional auxiliary functions, in the following order:<ul>
<li><a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.cost_function" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.cost_function"><code class="xref any py py-attr docutils literal"><span class="pre">cost_function</span></code></a>, which sums the costs;  this can be configured to weight
and/or exponentiate individual costs (see <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.cost_function" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.cost_function"><code class="xref any py py-attr docutils literal"><span class="pre">cost_function</span></code></a> attribute);</li>
<li><a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.combine_outcome_and_cost_function" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.combine_outcome_and_cost_function"><code class="xref any py py-attr docutils literal"><span class="pre">combine_outcome_and_cost_function</span></code></a>, which subtracts the
sum of the costs from the outcome to generate the EVC;  this too can be configured (see
<a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.combine_outcome_and_cost_function" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.combine_outcome_and_cost_function"><code class="xref any py py-attr docutils literal"><span class="pre">combine_outcome_and_cost_function</span></code></a>).</li>
</ul>
</li>
</ul>
</div></blockquote>
<p>In addition to modifying the default functions (as noted above), any or all of them can be replaced with a custom
function to modify how the <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.control_allocation" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.control_allocation"><code class="xref any py py-attr docutils literal"><span class="pre">control_allocation</span></code></a> is determined, so long as the
custom function accepts arguments and returns values that are compatible with any other functions that call that
function (see note below).</p>
<blockquote id="evccontrolmechanism-calling-and-assigning-functions">
<div><div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The <a class="reference internal" href="#evccontrolmechanism-functions"><span class="std std-ref">EVCControlMechanism auxiliary functions</span></a> described above are all
implemented as PsyNeuLink <a class="reference internal" href="Function.html"><span class="doc">Functions</span></a>.  Therefore, to call a function itself, it must be referenced
as <code class="docutils literal"><span class="pre">&lt;EVCControlMechanism&gt;.&lt;function_attribute&gt;.function</span></code>.  A custom function assigned to one of the auxiliary
functions can be either a PsyNeuLink <a class="reference internal" href="Function.html"><span class="doc">Function</span></a>, or a generic python function or method (including
a lambda function).  If it is one of the latter, it is automatically “wrapped” as a PsyNeuLink <a class="reference internal" href="Function.html"><span class="doc">Function</span></a> (specifically, it is assigned as the <code class="xref any docutils literal"><span class="pre">function</span></code> attribute of a
<a class="reference internal" href="UserDefinedFunction.html"><span class="doc">UserDefinedFunction</span></a> object), so that it can be referenced and called in the same manner as the default
function assignment. Therefore, once assigned, it too must be referenced as
<code class="docutils literal"><span class="pre">&lt;EVCControlMechanism&gt;.&lt;function_attribute&gt;.function</span></code>.</p>
</div>
</div></blockquote>
</div>
</div>
<div class="section" id="controlsignals">
<span id="evccontrolmechanism-controlsignals"></span><h3><em>ControlSignals</em><a class="headerlink" href="#controlsignals" title="Permalink to this headline">¶</a></h3>
<p>The OutputPorts of an EVCControlMechanism (like any <a class="reference internal" href="ControlMechanism.html"><span class="doc">Control Mechanisms</span></a>) are a set of <a class="reference internal" href="ControlSignal.html"><span class="doc">ControlSignals</span></a>, that are listed in its <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.control_signals" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.control_signals"><code class="xref any py py-attr docutils literal"><span class="pre">control_signals</span></code></a> attribute (as well as
its <code class="xref any docutils literal"><span class="pre">output_ports</span></code> attribute).  Each ControlSignal is assigned a  <a class="reference internal" href="ControlProjection.html"><span class="doc">ControlProjection</span></a>
that projects to the <a class="reference internal" href="ParameterPort.html"><span class="doc">ParameterPort</span></a> for a parameter controlled by the EVCControlMechanism.  Each ControlSignal is
assigned an item of the EVCControlMechanism’s <a class="reference internal" href="ControlMechanism.html#psyneulink.core.components.mechanisms.modulatory.control.controlmechanism.ControlMechanism.control_allocation" title="psyneulink.core.components.mechanisms.modulatory.control.controlmechanism.ControlMechanism.control_allocation"><code class="xref any py py-attr docutils literal"><span class="pre">control_allocation</span></code></a>, that determines its <a class="reference internal" href="ControlSignal.html#psyneulink.core.components.ports.modulatorysignals.controlsignal.ControlSignal.allocation" title="psyneulink.core.components.ports.modulatorysignals.controlsignal.ControlSignal.allocation"><code class="xref any py py-attr docutils literal"><span class="pre">allocation</span></code></a> for a given <a class="reference internal" href="Time.html#psyneulink.core.scheduling.time.TimeScale.TRIAL" title="psyneulink.core.scheduling.time.TimeScale.TRIAL"><code class="xref any py py-attr docutils literal"><span class="pre">TRIAL</span></code></a> of execution.  The <a class="reference internal" href="ControlSignal.html#psyneulink.core.components.ports.modulatorysignals.controlsignal.ControlSignal.allocation" title="psyneulink.core.components.ports.modulatorysignals.controlsignal.ControlSignal.allocation"><code class="xref any py py-attr docutils literal"><span class="pre">allocation</span></code></a> is used by
a ControlSignal to determine its <a class="reference internal" href="ControlSignal.html#psyneulink.core.components.ports.modulatorysignals.controlsignal.ControlSignal.intensity" title="psyneulink.core.components.ports.modulatorysignals.controlsignal.ControlSignal.intensity"><code class="xref any py py-attr docutils literal"><span class="pre">intensity</span></code></a>, which is then assigned as the <a class="reference internal" href="ControlProjection.html#psyneulink.core.components.projections.modulatory.controlprojection.ControlProjection.value" title="psyneulink.core.components.projections.modulatory.controlprojection.ControlProjection.value"><code class="xref any py py-attr docutils literal"><span class="pre">value</span></code></a> of the ControlSignal’s ControlProjection.   The <a class="reference internal" href="ControlProjection.html"><span class="doc">value</span></a> of the
ControlProjection is used by the <a class="reference internal" href="ParameterPort.html"><span class="doc">ParameterPort</span></a> to which it projects to modify the value of the parameter (see
<a class="reference internal" href="ControlSignal.html#controlsignal-modulation"><span class="std std-ref">Modulation</span></a> for description of how a ControlSignal modulates the value of a parameter it controls).
A ControlSignal also calculates a <a class="reference internal" href="ControlSignal.html#psyneulink.core.components.ports.modulatorysignals.controlsignal.ControlSignal.cost" title="psyneulink.core.components.ports.modulatorysignals.controlsignal.ControlSignal.cost"><code class="xref any py py-attr docutils literal"><span class="pre">cost</span></code></a>, based on its <a class="reference internal" href="ControlSignal.html#psyneulink.core.components.ports.modulatorysignals.controlsignal.ControlSignal.intensity" title="psyneulink.core.components.ports.modulatorysignals.controlsignal.ControlSignal.intensity"><code class="xref any py py-attr docutils literal"><span class="pre">intensity</span></code></a>
and/or its time course. The <a class="reference internal" href="ControlSignal.html#psyneulink.core.components.ports.modulatorysignals.controlsignal.ControlSignal.cost" title="psyneulink.core.components.ports.modulatorysignals.controlsignal.ControlSignal.cost"><code class="xref any py py-attr docutils literal"><span class="pre">cost</span></code></a> is included in the evaluation that the EVCControlMechanism
carries out for a given <a class="reference internal" href="ControlMechanism.html#psyneulink.core.components.mechanisms.modulatory.control.controlmechanism.ControlMechanism.control_allocation" title="psyneulink.core.components.mechanisms.modulatory.control.controlmechanism.ControlMechanism.control_allocation"><code class="xref any py py-attr docutils literal"><span class="pre">control_allocation</span></code></a>, and that it uses to adapt the ControlSignal’s <a class="reference internal" href="ControlSignal.html#psyneulink.core.components.ports.modulatorysignals.controlsignal.ControlSignal.allocation" title="psyneulink.core.components.ports.modulatorysignals.controlsignal.ControlSignal.allocation"><code class="xref any py py-attr docutils literal"><span class="pre">allocation</span></code></a> in the future.  When the EVCControlMechanism chooses an <a class="reference internal" href="ControlMechanism.html#psyneulink.core.components.mechanisms.modulatory.control.controlmechanism.ControlMechanism.control_allocation" title="psyneulink.core.components.mechanisms.modulatory.control.controlmechanism.ControlMechanism.control_allocation"><code class="xref any py py-attr docutils literal"><span class="pre">control_allocation</span></code></a> to evaluate,
it selects an allocation value from the ControlSignal’s <a class="reference internal" href="ControlSignal.html#psyneulink.core.components.ports.modulatorysignals.controlsignal.ControlSignal.allocation_samples" title="psyneulink.core.components.ports.modulatorysignals.controlsignal.ControlSignal.allocation_samples"><code class="xref any py py-attr docutils literal"><span class="pre">allocation_samples</span></code></a>
attribute.</p>
</div>
</div>
<div class="section" id="execution">
<span id="evccontrolmechanism-execution"></span><h2>Execution<a class="headerlink" href="#execution" title="Permalink to this headline">¶</a></h2>
<p>An EVCControlMechanism must be the <a class="reference internal" href="System.html#psyneulink.core.components.system.System.controller" title="psyneulink.core.components.system.System.controller"><code class="xref any py py-attr docutils literal"><span class="pre">controller</span></code></a> of a System, and as a consequence it is always the
last <a class="reference internal" href="Mechanism.html"><span class="doc">Mechanism</span></a> to be executed in a <a class="reference internal" href="Time.html#psyneulink.core.scheduling.time.TimeScale.TRIAL" title="psyneulink.core.scheduling.time.TimeScale.TRIAL"><code class="xref any py py-attr docutils literal"><span class="pre">TRIAL</span></code></a> for its <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.system" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.system"><code class="xref any py py-attr docutils literal"><span class="pre">system</span></code></a> (see <a class="reference internal" href="System.html#system-execution-control"><span class="std std-ref">System
Control</span></a> and <a class="reference internal" href="System.html#system-execution"><span class="std std-ref">Execution</span></a>). When an EVCControlMechanism is executed,
it updates the value of its <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.prediction_mechanisms" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.prediction_mechanisms"><code class="xref any py py-attr docutils literal"><span class="pre">prediction_mechanisms</span></code></a> and <a class="reference internal" href="AGTControlMechanism.html#psyneulink.library.components.mechanisms.modulatory.control.agt.agtcontrolmechanism.AGTControlMechanism.objective_mechanism" title="psyneulink.library.components.mechanisms.modulatory.control.agt.agtcontrolmechanism.AGTControlMechanism.objective_mechanism"><code class="xref any py py-attr docutils literal"><span class="pre">objective_mechanism</span></code></a>, and then calls its <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.function" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.function"><code class="xref any py py-attr docutils literal"><span class="pre">function</span></code></a>, which determines and implements the <a class="reference internal" href="ControlMechanism.html#psyneulink.core.components.mechanisms.modulatory.control.controlmechanism.ControlMechanism.control_allocation" title="psyneulink.core.components.mechanisms.modulatory.control.controlmechanism.ControlMechanism.control_allocation"><code class="xref any py py-attr docutils literal"><span class="pre">control_allocation</span></code></a> for the next <a class="reference internal" href="Time.html#psyneulink.core.scheduling.time.TimeScale.TRIAL" title="psyneulink.core.scheduling.time.TimeScale.TRIAL"><code class="xref any py py-attr docutils literal"><span class="pre">TRIAL</span></code></a> of its
<a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.system" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.system"><code class="xref any py py-attr docutils literal"><span class="pre">system</span></code></a>s execution.  The default <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.function" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.function"><code class="xref any py py-attr docutils literal"><span class="pre">function</span></code></a> executes
the following steps (described in greater detailed <a class="reference internal" href="#evccontrolmechanism-default-configuration"><span class="std std-ref">above</span></a>):</p>
<ul class="simple">
<li>Samples every control_allocation (i.e., every combination of the <a class="reference internal" href="ControlSignal.html#psyneulink.core.components.ports.modulatorysignals.controlsignal.ControlSignal.allocation" title="psyneulink.core.components.ports.modulatorysignals.controlsignal.ControlSignal.allocation"><code class="xref any py py-attr docutils literal"><span class="pre">allocation</span></code></a> s specified for the
EVCControlMechanism’s ControlSignals specified by their <a class="reference internal" href="ControlSignal.html#psyneulink.core.components.ports.modulatorysignals.controlsignal.ControlSignal.allocation_samples" title="psyneulink.core.components.ports.modulatorysignals.controlsignal.ControlSignal.allocation_samples"><code class="xref any py py-attr docutils literal"><span class="pre">allocation_samples</span></code></a> attributes);  for each
<a class="reference internal" href="ControlMechanism.html#psyneulink.core.components.mechanisms.modulatory.control.controlmechanism.ControlMechanism.control_allocation" title="psyneulink.core.components.mechanisms.modulatory.control.controlmechanism.ControlMechanism.control_allocation"><code class="xref any py py-attr docutils literal"><span class="pre">control_allocation</span></code></a>, it:<ul>
<li>Runs a simulation of the EVCControlMechanism’s <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.system" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.system"><code class="xref any py py-attr docutils literal"><span class="pre">system</span></code></a> with the parameter values
specified by that <a class="reference internal" href="ControlMechanism.html#psyneulink.core.components.mechanisms.modulatory.control.controlmechanism.ControlMechanism.control_allocation" title="psyneulink.core.components.mechanisms.modulatory.control.controlmechanism.ControlMechanism.control_allocation"><code class="xref any py py-attr docutils literal"><span class="pre">control_allocation</span></code></a>, by calling the system’s  <code class="xref any docutils literal"><span class="pre">evaluate</span></code> method;
each simulation uses inputs provided by the EVCControlMechanism’s <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.prediction_mechanisms" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.prediction_mechanisms"><code class="xref any py py-attr docutils literal"><span class="pre">prediction_mechanisms</span></code></a> and includes execution of its <a class="reference internal" href="AGTControlMechanism.html#psyneulink.library.components.mechanisms.modulatory.control.agt.agtcontrolmechanism.AGTControlMechanism.objective_mechanism" title="psyneulink.library.components.mechanisms.modulatory.control.agt.agtcontrolmechanism.AGTControlMechanism.objective_mechanism"><code class="xref any py py-attr docutils literal"><span class="pre">objective_mechanism</span></code></a>, which provides
its result to the EVCControlMechanism.</li>
<li>Calls the EVCControlMechanism’s <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.value_function" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.value_function"><code class="xref any py py-attr docutils literal"><span class="pre">value_function</span></code></a>, which in turn calls
EVCControlMechanism’s <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.cost_function" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.cost_function"><code class="xref any py py-attr docutils literal"><span class="pre">cost_function</span></code></a> and <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.combine_outcome_and_cost_function" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.combine_outcome_and_cost_function"><code class="xref any py py-attr docutils literal"><span class="pre">combine_outcome_and_cost_function</span></code></a> to evaluate the EVC for that <a class="reference internal" href="ControlMechanism.html#psyneulink.core.components.mechanisms.modulatory.control.controlmechanism.ControlMechanism.control_allocation" title="psyneulink.core.components.mechanisms.modulatory.control.controlmechanism.ControlMechanism.control_allocation"><code class="xref any py py-attr docutils literal"><span class="pre">control_allocation</span></code></a>.</li>
</ul>
</li>
<li>Selects and returns the <a class="reference internal" href="ControlMechanism.html#psyneulink.core.components.mechanisms.modulatory.control.controlmechanism.ControlMechanism.control_allocation" title="psyneulink.core.components.mechanisms.modulatory.control.controlmechanism.ControlMechanism.control_allocation"><code class="xref any py py-attr docutils literal"><span class="pre">control_allocation</span></code></a> that generates the maximum EVC value.</li>
</ul>
<p>This procedure can be modified by specifying a custom function for any or all of the <a class="reference internal" href="#evccontrolmechanism-functions"><span class="std std-ref">functions</span></a> referred to above.</p>
<p class="rubric" id="evccontrolmechanism-examples">Example</p>
<p>The following example implements a System with an EVCControlMechanism (and two processes not shown):</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">psyneulink</span> <span class="k">as</span> <span class="nn">pnl</span>                                                        
<span class="gp">&gt;&gt;&gt; </span><span class="n">myRewardProcess</span> <span class="o">=</span> <span class="n">pnl</span><span class="o">.</span><span class="n">Process</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>                                              
<span class="gp">&gt;&gt;&gt; </span><span class="n">myDecisionProcess</span> <span class="o">=</span> <span class="n">pnl</span><span class="o">.</span><span class="n">Process</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>                                            
<span class="gp">&gt;&gt;&gt; </span><span class="n">mySystem</span> <span class="o">=</span> <span class="n">pnl</span><span class="o">.</span><span class="n">System</span><span class="p">(</span><span class="n">processes</span><span class="o">=</span><span class="p">[</span><span class="n">myRewardProcess</span><span class="p">,</span> <span class="n">myDecisionProcess</span><span class="p">],</span>           
<span class="gp">... </span>                      <span class="n">controller</span><span class="o">=</span><span class="n">pnl</span><span class="o">.</span><span class="n">EVCControlMechanism</span><span class="p">,</span>                       
<span class="gp">... </span>                      <span class="n">monitor_for_control</span><span class="o">=</span><span class="p">[</span><span class="n">Reward</span><span class="p">,</span>                              
<span class="gp">... </span>                                           <span class="n">pnl</span><span class="o">.</span><span class="n">DECISION_VARIABLE</span><span class="p">,</span>    
<span class="gp">... </span>                                           <span class="p">(</span><span class="n">pnl</span><span class="o">.</span><span class="n">RESPONSE_TIME</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)],</span>         
</pre></div>
</div>
<p>It uses the System’s <strong>monitor_for_control</strong> argument to assign three OutputPorts to be monitored.  The first one
references the Reward Mechanism (not shown);  its <a class="reference internal" href="OutputPort.html#outputport-primary"><span class="std std-ref">primary OutputPort</span></a> will be used by default.
The second and third use keywords that are the names of outputPorts of a  <a class="reference internal" href="DDM.html"><span class="doc">DDM</span></a> Mechanism (also not shown).
The last one (RESPONSE_TIME) is assigned a weight of 1 and an exponent of -1. As a result, each calculation of the EVC
computation will multiply the value of the primary OutputPort of the Reward Mechanism by the value of the
<em>DDM_DECISION_VARIABLE</em> OutputPort of the DDM Mechanism, and then divide that by the value of the <em>RESPONSE_TIME</em>
OutputPort of the DDM Mechanism.</p>
<p>See <a class="reference internal" href="ObjectiveMechanism.html#objectivemechanism-monitor-examples"><span class="std std-ref">ObjectiveMechanism</span></a> for additional examples of how to specify it’s
<strong>monitored_output_ports</strong> argument, <a class="reference internal" href="ControlMechanism.html#controlmechanism-examples"><span class="std std-ref">ControlMechanism</span></a> for additional examples of how to
specify ControlMechanisms, and <a class="reference internal" href="System.html#system-examples"><span class="std std-ref">System</span></a> for how to specify the <a class="reference internal" href="System.html#psyneulink.core.components.system.System.controller" title="psyneulink.core.components.system.System.controller"><code class="xref any py py-attr docutils literal"><span class="pre">controller</span></code></a>
of a System.</p>
</div>
<div class="section" id="class-reference">
<span id="evccontrolmechanism-class-reference"></span><h2>Class Reference<a class="headerlink" href="#class-reference" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism">
<em class="property">class </em><code class="descclassname">psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.</code><code class="descname">EVCControlMechanism</code><span class="sig-paren">(</span><em>system=None</em>, <em>prediction_mechanisms=&lt;class 'psyneulink.library.components.mechanisms.modulatory.control.evc.evcauxiliary.PredictionMechanism'&gt;</em>, <em>objective_mechanism=None</em>, <em>origin_objective_mechanism=False</em>, <em>terminal_objective_mechanism=False</em>, <em>monitor_for_control=None</em>, <em>function=&lt;class 'psyneulink.library.components.mechanisms.modulatory.control.evc.evcauxiliary.ControlSignalGridSearch'&gt;</em>, <em>value_function=&lt;class 'psyneulink.library.components.mechanisms.modulatory.control.evc.evcauxiliary.ValueFunction'&gt;</em>, <em>cost_function=(LinearCombination LinearCombination Function-4)</em>, <em>combine_outcome_and_cost_function=(LinearCombination LinearCombination Function-5)</em>, <em>save_all_values_and_policies=False</em>, <em>control_signals=None</em>, <em>modulation='multiplicative_param'</em>, <em>params=None</em>, <em>name=None</em>, <em>prefs=None</em><span class="sig-paren">)</span><a class="headerlink" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism" title="Permalink to this definition">¶</a></dt>
<dd><p>Subclass of <a class="reference internal" href="ControlMechanism.html"><span class="doc">ControlMechanism</span></a> that optimizes the <a class="reference internal" href="ControlSignal.html"><span class="doc">ControlSignals</span></a> for a
<a class="reference internal" href="System.html"><span class="doc">System</span></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>system</strong> (<em>System : default None</em>) – specifies the <a class="reference internal" href="System.html"><span class="doc">System</span></a> for which the EVCControlMechanism should serve as a <a class="reference internal" href="System.html#psyneulink.core.components.system.System.controller" title="psyneulink.core.components.system.System.controller"><code class="xref any py py-attr docutils literal"><span class="pre">controller</span></code></a>;
the EVCControlMechanism will inherit any <a class="reference internal" href="OutputPort.html"><span class="doc">OutputPorts</span></a> specified in the <strong>monitor_for_control</strong>
argument of the <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.system" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.system"><code class="xref any py py-attr docutils literal"><span class="pre">system</span></code></a>’s constructor, and any <a class="reference internal" href="ControlSignal.html"><span class="doc">ControlSignals</span></a>
specified in its <strong>control_signals</strong> argument.</li>
<li><strong>objective_mechanism</strong> (<a class="reference internal" href="ObjectiveMechanism.html#psyneulink.core.components.mechanisms.processing.objectivemechanism.ObjectiveMechanism" title="psyneulink.core.components.mechanisms.processing.objectivemechanism.ObjectiveMechanism"><em>ObjectiveMechanism</em></a><em>, </em><em>List</em><em>[</em><a class="reference internal" href="OutputPort.html#psyneulink.core.components.ports.outputport.OutputPort" title="psyneulink.core.components.ports.outputport.OutputPort"><em>OutputPort</em></a><em> or </em><em>Tuple</em><em>[</em><a class="reference internal" href="OutputPort.html#psyneulink.core.components.ports.outputport.OutputPort" title="psyneulink.core.components.ports.outputport.OutputPort"><em>OutputPort</em></a><em>, </em><em>list</em><em> or </em><em>1d np.array</em><em>, </em><em>list</em><em> or </em><em>1d</em>) – </li>
<li><strong>np.array</strong><strong>]</strong><strong>]</strong> (<em>default MonitoredOutputPortsOptions.PRIMARY_OUTPUT_PORTS</em>) – specifies either an <a class="reference internal" href="ObjectiveMechanism.html"><span class="doc">ObjectiveMechanism</span></a> to use for the EVCControlMechanism or a list of the OutputPorts it
should monitor; if a list of <a class="reference internal" href="ObjectiveMechanism.html#objectivemechanism-monitor"><span class="std std-ref">OutputPort specifications</span></a> is used,
a default ObjectiveMechanism is created and the list is passed to its <strong>monitored_output_ports</strong> argument.</li>
<li><strong>prediction_mechanisms</strong> (<em>Mechanism</em><em>, </em><em>Mechanism subclass</em><em>, </em><em>dict</em><em>, </em><em>(</em><em>Mechanism subclass</em><em>, </em><em>dict</em><em>) or </em><em>list:     default PredictionMechanism</em>) – the <a class="reference internal" href="Mechanism.html"><span class="doc">Mechanism(s)</span></a> or class(es) of Mechanisms  used for <a class="reference internal" href="#evccontrolmechanism-prediction-mechanisms"><span class="std std-ref">prediction Mechanism(s)</span></a> and, optionally, their parameters (specified in a <a class="reference internal" href="ParameterPort.html#parameterport-specification"><span class="std std-ref">parameter
specification dictionary</span></a>);  see <a class="reference internal" href="#evccontrolmechanism-prediction-mechanisms"><span class="std std-ref">Prediction Mechanisms</span></a>
for details.</li>
<li><strong>function</strong> (<a class="reference internal" href="AutoAssociativeLearningMechanism.html#psyneulink.library.components.mechanisms.modulatory.learning.autoassociativelearningmechanism.AutoAssociativeLearningMechanism.function" title="psyneulink.library.components.mechanisms.modulatory.learning.autoassociativelearningmechanism.AutoAssociativeLearningMechanism.function"><em>function</em></a><em> or </em><em>method : ControlSignalGridSearch</em>) – specifies the function used to determine the <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.control_allocation" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.control_allocation"><code class="xref any py py-attr docutils literal"><span class="pre">control_allocation</span></code></a> for the next execution of the
EVCControlMechanism’s <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.system" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.system"><code class="xref any py py-attr docutils literal"><span class="pre">system</span></code></a> (see <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.function" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.function"><code class="xref any py py-attr docutils literal"><span class="pre">function</span></code></a>
for details).</li>
<li><strong>value_function</strong> (<a class="reference internal" href="AutoAssociativeLearningMechanism.html#psyneulink.library.components.mechanisms.modulatory.learning.autoassociativelearningmechanism.AutoAssociativeLearningMechanism.function" title="psyneulink.library.components.mechanisms.modulatory.learning.autoassociativelearningmechanism.AutoAssociativeLearningMechanism.function"><em>function</em></a><em> or </em><em>method : value_function</em>) – specifies the function used to calculate the <a class="reference internal" href="#evccontrolmechanism-evc"><span class="std std-ref">EVC</span></a> for the current <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.control_allocation" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.control_allocation"><code class="xref any py py-attr docutils literal"><span class="pre">control_allocation</span></code></a>
(see <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.value_function" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.value_function"><code class="xref any py py-attr docutils literal"><span class="pre">value_function</span></code></a> for details).</li>
<li><strong>cost_function</strong> (<a class="reference internal" href="AutoAssociativeLearningMechanism.html#psyneulink.library.components.mechanisms.modulatory.learning.autoassociativelearningmechanism.AutoAssociativeLearningMechanism.function" title="psyneulink.library.components.mechanisms.modulatory.learning.autoassociativelearningmechanism.AutoAssociativeLearningMechanism.function"><em>function</em></a><em> or </em><em>method : LinearCombination</em><em>(</em><em>operation=SUM</em><em>)</em>) – specifies the function used to calculate the cost associated with the current <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.control_allocation" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.control_allocation"><code class="xref any py py-attr docutils literal"><span class="pre">control_allocation</span></code></a>
(see <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.cost_function" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.cost_function"><code class="xref any py py-attr docutils literal"><span class="pre">cost_function</span></code></a> for details).</li>
<li><strong>combine_outcome_and_cost_function</strong> (<a class="reference internal" href="AutoAssociativeLearningMechanism.html#psyneulink.library.components.mechanisms.modulatory.learning.autoassociativelearningmechanism.AutoAssociativeLearningMechanism.function" title="psyneulink.library.components.mechanisms.modulatory.learning.autoassociativelearningmechanism.AutoAssociativeLearningMechanism.function"><em>function</em></a><em> or </em><em>method : LinearCombination</em><em>(</em><em>operation=SUM</em><em>)</em>) – specifies the function used to combine the outcome and cost associated with the current <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.control_allocation" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.control_allocation"><code class="xref any py py-attr docutils literal"><span class="pre">control_allocation</span></code></a>,
to determine its value (see <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.combine_outcome_and_cost_function" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.combine_outcome_and_cost_function"><code class="xref any py py-attr docutils literal"><span class="pre">combine_outcome_and_cost_function</span></code></a> for details).</li>
<li><strong>save_all_values_and_policies</strong> (<em>bool : default False</em>) – specifes whether to save every <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.control_allocation" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.control_allocation"><code class="xref any py py-attr docutils literal"><span class="pre">control_allocation</span></code></a> tested in <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.EVC_policies" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.EVC_policies"><code class="xref any py py-attr docutils literal"><span class="pre">EVC_policies</span></code></a> and their values in <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.EVC_values" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.EVC_values"><code class="xref any py py-attr docutils literal"><span class="pre">EVC_values</span></code></a>.</li>
<li><strong>control_signals</strong> (<em>ControlSignal specification</em><em> or </em><em>List</em><em>[</em><em>ControlSignal specification</em><em>, </em><em>..</em><em>]</em>) – specifies the parameters to be controlled by the EVCControlMechanism
(see <a class="reference internal" href="ControlSignal.html#controlsignal-specification"><span class="std std-ref">Specifying ControlSignals</span></a> for details of specification).</li>
<li><strong>params</strong> (<em>Dict</em><em>[</em><em>param keyword: param value</em><em>] </em><em>: default None</em>) – a <a class="reference internal" href="ParameterPort.html#parameterport-specification"><span class="std std-ref">parameter dictionary</span></a> that can be used to specify the parameters for the
Mechanism, its <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.function" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.function"><code class="xref any py py-attr docutils literal"><span class="pre">function</span></code></a>, and/or a custom function and its parameters.  Values
specified for parameters in the dictionary override any assigned to those parameters in arguments of the
constructor.</li>
<li><strong>name</strong> (str : default see <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.name" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.name"><code class="xref any py py-attr docutils literal"><span class="pre">name</span></code></a>) – specifies the name of the EVCControlMechanism.</li>
<li><strong>prefs</strong> (<a class="reference internal" href="Preferences.html#psyneulink.core.globals.preferences.PreferenceSet" title="psyneulink.core.globals.preferences.PreferenceSet"><em>PreferenceSet</em></a><em> or </em><em>specification dict : default Mechanism.classPreferences</em>) – specifies the <a class="reference internal" href="Preferences.html#psyneulink.core.globals.preferences.PreferenceSet" title="psyneulink.core.globals.preferences.PreferenceSet"><code class="xref any py py-class docutils literal"><span class="pre">PreferenceSet</span></code></a> for the EVCControlMechanism; see <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.prefs" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.prefs"><code class="xref any py py-attr docutils literal"><span class="pre">prefs</span></code></a> for details.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.system">
<code class="descname">system</code><a class="headerlink" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.system" title="Permalink to this definition">¶</a></dt>
<dd><p><em>System</em> – the <a class="reference internal" href="System.html"><span class="doc">System</span></a> for which EVCControlMechanism is the <a class="reference internal" href="System.html#psyneulink.core.components.system.System.controller" title="psyneulink.core.components.system.System.controller"><code class="xref any py py-attr docutils literal"><span class="pre">controller</span></code></a>;
the EVCControlMechanism inherits any <a class="reference internal" href="OutputPort.html"><span class="doc">OutputPorts</span></a> specified in the <strong>monitor_for_control</strong>
argument of the <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.system" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.system"><code class="xref any py py-attr docutils literal"><span class="pre">system</span></code></a>’s constructor, and any <a class="reference internal" href="ControlSignal.html"><span class="doc">ControlSignals</span></a>
specified in its <strong>control_signals</strong> argument.</p>
</dd></dl>

<dl class="attribute">
<dt id="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.prediction_mechanisms">
<code class="descname">prediction_mechanisms</code><a class="headerlink" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.prediction_mechanisms" title="Permalink to this definition">¶</a></dt>
<dd><p><em>List[ProcessingMechanism]</em> – list of <a class="reference internal" href="#evccontrolmechanism-prediction-mechanisms"><span class="std std-ref">predictions mechanisms</span></a> generated for the
EVCControlMechanism’s <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.system" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.system"><code class="xref any py py-attr docutils literal"><span class="pre">system</span></code></a> when the EVCControlMechanism is created,
one for each <a class="reference internal" href="Utilities.html#psyneulink.core.globals.utilities.NodeRole.ORIGIN" title="psyneulink.core.globals.utilities.NodeRole.ORIGIN"><code class="xref any py py-attr docutils literal"><span class="pre">ORIGIN</span></code></a> Mechanism in the <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.system" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.system"><code class="xref any py py-attr docutils literal"><span class="pre">system</span></code></a>.  Each prediction Mechanism is
named using the name of the ` ORIGIN` Mechanism + “PREDICTION_MECHANISM” and assigned an <a class="reference internal" href="OutputPort.html"><span class="doc">OutputPort</span></a> with
a name based on the same.</p>
</dd></dl>

<dl class="attribute">
<dt id="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.origin_prediction_mechanisms">
<code class="descname">origin_prediction_mechanisms</code><a class="headerlink" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.origin_prediction_mechanisms" title="Permalink to this definition">¶</a></dt>
<dd><p><em>Dict[ProcessingMechanism, ProcessingMechanism]</em> – dictionary of <a class="reference internal" href="#evccontrolmechanism-prediction-mechanisms"><span class="std std-ref">prediction mechanisms</span></a> added to the
EVCControlMechanism’s <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.system" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.system"><code class="xref any py py-attr docutils literal"><span class="pre">system</span></code></a>, one for each of its <a class="reference internal" href="Utilities.html#psyneulink.core.globals.utilities.NodeRole.ORIGIN" title="psyneulink.core.globals.utilities.NodeRole.ORIGIN"><code class="xref any py py-attr docutils literal"><span class="pre">ORIGIN</span></code></a> Mechanisms.  The
key for each entry is an <a class="reference internal" href="Utilities.html#psyneulink.core.globals.utilities.NodeRole.ORIGIN" title="psyneulink.core.globals.utilities.NodeRole.ORIGIN"><code class="xref any py py-attr docutils literal"><span class="pre">ORIGIN</span></code></a> Mechanism of the System, and the value is the corresponding prediction
Mechanism.</p>
</dd></dl>

<dl class="attribute">
<dt id="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.predicted_input">
<code class="descname">predicted_input</code><a class="headerlink" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.predicted_input" title="Permalink to this definition">¶</a></dt>
<dd><p><em>Dict[ProcessingMechanism, value]</em> – dictionary with the <a class="reference internal" href="Mechanism.html#psyneulink.core.components.mechanisms.mechanism.Mechanism_Base.value" title="psyneulink.core.components.mechanisms.mechanism.Mechanism_Base.value"><code class="xref any py py-attr docutils literal"><span class="pre">value</span></code></a> of each <a class="reference internal" href="#evccontrolmechanism-prediction-mechanisms"><span class="std std-ref">prediction Mechanism</span></a> listed in <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.prediction_mechanisms" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.prediction_mechanisms"><code class="xref any py py-attr docutils literal"><span class="pre">prediction_mechanisms</span></code></a> corresponding to each <a class="reference internal" href="Utilities.html#psyneulink.core.globals.utilities.NodeRole.ORIGIN" title="psyneulink.core.globals.utilities.NodeRole.ORIGIN"><code class="xref any py py-attr docutils literal"><span class="pre">ORIGIN</span></code></a>
Mechanism of the System. The key for each entry is the name of an <a class="reference internal" href="Utilities.html#psyneulink.core.globals.utilities.NodeRole.ORIGIN" title="psyneulink.core.globals.utilities.NodeRole.ORIGIN"><code class="xref any py py-attr docutils literal"><span class="pre">ORIGIN</span></code></a> Mechanism, and its
value the <a class="reference internal" href="Mechanism.html#psyneulink.core.components.mechanisms.mechanism.Mechanism_Base.value" title="psyneulink.core.components.mechanisms.mechanism.Mechanism_Base.value"><code class="xref any py py-attr docutils literal"><span class="pre">value</span></code></a> of the corresponding prediction Mechanism.</p>
</dd></dl>

<dl class="attribute">
<dt id="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.objective_mechanism">
<code class="descname">objective_mechanism</code><a class="headerlink" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.objective_mechanism" title="Permalink to this definition">¶</a></dt>
<dd><p><em>ObjectiveMechanism</em> – the ‘ObjectiveMechanism’ used by the EVCControlMechanism to evaluate the performance of its <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.system" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.system"><code class="xref any py py-attr docutils literal"><span class="pre">system</span></code></a>.  If a list of OutputPorts is specified in the <strong>objective_mechanism</strong> argument
of the EVCControlMechanism’s constructor, they are assigned as the <code class="xref any docutils literal"><span class="pre">monitored_output_ports</span></code> attribute for the <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.objective_mechanism" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.objective_mechanism"><code class="xref any py py-attr docutils literal"><span class="pre">objective_mechanism</span></code></a>.</p>
</dd></dl>

<dl class="attribute">
<dt id="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.monitored_output_ports">
<code class="descname">monitored_output_ports</code><a class="headerlink" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.monitored_output_ports" title="Permalink to this definition">¶</a></dt>
<dd><p><em>List[OutputPort]</em> – list of the OutputPorts monitored by <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.objective_mechanism" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.objective_mechanism"><code class="xref any py py-attr docutils literal"><span class="pre">objective_mechanism</span></code></a> (and
listed in its <code class="xref any docutils literal"><span class="pre">monitored_output_ports</span></code> attribute), and used to
evaluate the performance of the EVCControlMechanism’s <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.system" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.system"><code class="xref any py py-attr docutils literal"><span class="pre">system</span></code></a>.</p>
</dd></dl>

<dl class="attribute">
<dt id="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.monitored_output_ports_weights_and_exponents">
<code class="descname">monitored_output_ports_weights_and_exponents</code><a class="headerlink" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.monitored_output_ports_weights_and_exponents" title="Permalink to this definition">¶</a></dt>
<dd><p><em>List[Tuple[scalar, scalar]]</em> – a list of tuples, each of which contains the weight and exponent (in that order) for an OutputPort in
<code class="xref any docutils literal"><span class="pre">monitored_outputPorts</span></code>, listed in the same order as the outputPorts are listed in <code class="xref any docutils literal"><span class="pre">monitored_outputPorts</span></code>.</p>
</dd></dl>

<dl class="attribute">
<dt id="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.function">
<code class="descname">function</code><a class="headerlink" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.function" title="Permalink to this definition">¶</a></dt>
<dd><p><em>function : default ControlSignalGridSearch</em> – determines the <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.control_allocation" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.control_allocation"><code class="xref any py py-attr docutils literal"><span class="pre">control_allocation</span></code></a> to use for the next round of the System’s
execution. The default function, <a class="reference internal" href="EVCAuxiliary.html#psyneulink.library.components.mechanisms.modulatory.control.evc.evcauxiliary.ControlSignalGridSearch" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evcauxiliary.ControlSignalGridSearch"><code class="xref any py py-class docutils literal"><span class="pre">ControlSignalGridSearch</span></code></a>, conducts an exhaustive (<em>grid</em>) search of all
combinations of the <a class="reference internal" href="ControlSignal.html#psyneulink.core.components.ports.modulatorysignals.controlsignal.ControlSignal.allocation_samples" title="psyneulink.core.components.ports.modulatorysignals.controlsignal.ControlSignal.allocation_samples"><code class="xref any py py-attr docutils literal"><span class="pre">allocation_samples</span></code></a> of its ControlSignals (and contained in its
<a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.control_signal_search_space" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.control_signal_search_space"><code class="xref any py py-attr docutils literal"><span class="pre">control_signal_search_space</span></code></a> attribute), by executing the System (using <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.evaluate" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.evaluate"><code class="xref any py py-meth docutils literal"><span class="pre">evaluate</span></code></a>) for each
combination, evaluating the result using <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.value_function" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.value_function"><code class="xref any py py-attr docutils literal"><span class="pre">value_function</span></code></a>, and returning the <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.control_allocation" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.control_allocation"><code class="xref any py py-attr docutils literal"><span class="pre">control_allocation</span></code></a> that yielded
the greatest <a class="reference internal" href="#evccontrolmechanism-evc"><span class="std std-ref">EVC</span></a> value (see <a class="reference internal" href="#evccontrolmechanism-default-configuration"><span class="std std-ref">Default Configuration of EVC Function and its Auxiliary Functions</span></a> for
additional details). If a custom function is specified, it must accommodate a <strong>controller</strong> argument that
specifies an EVCControlMechanism (and provides access to its attributes, including
<a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.control_signal_search_space" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.control_signal_search_space"><code class="xref any py py-attr docutils literal"><span class="pre">control_signal_search_space</span></code></a>), and must return an array with the same format (number and type of elements)
as the EVCControlMechanism’s <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.control_allocation" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.control_allocation"><code class="xref any py py-attr docutils literal"><span class="pre">control_allocation</span></code></a> attribute.</p>
</dd></dl>

<dl class="attribute">
<dt id="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.value_function">
<code class="descname">value_function</code><a class="headerlink" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.value_function" title="Permalink to this definition">¶</a></dt>
<dd><p><em>function : default ValueFunction</em> – calculates the <a class="reference internal" href="#evccontrolmechanism-evc"><span class="std std-ref">EVC</span></a> for a given <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.control_allocation" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.control_allocation"><code class="xref any py py-attr docutils literal"><span class="pre">control_allocation</span></code></a>.  It takes as its arguments an
<a class="reference internal" href="#"><span class="doc">EVCControlMechanism</span></a>, an <strong>outcome</strong> value and a list or ndarray of <strong>costs</strong>, uses these to calculate an EVC,
and returns a three item tuple with the calculated EVC, and the outcome value and combined value of costs
used to calculate the EVC.  The default, <a class="reference internal" href="EVCAuxiliary.html#psyneulink.library.components.mechanisms.modulatory.control.evc.evcauxiliary.ValueFunction" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evcauxiliary.ValueFunction"><code class="xref any py py-class docutils literal"><span class="pre">ValueFunction</span></code></a>,  calls the EVCControlMechanism’s <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.cost_function" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.cost_function"><code class="xref any py py-attr docutils literal"><span class="pre">cost_function</span></code></a> to combine the value of the costs, and then calls its
<code class="xref any docutils literal"><span class="pre">combine_outcome_and_costs</span></code> to calculate the EVC from the
outcome and combined cost (see <a class="reference internal" href="#evccontrolmechanism-default-configuration"><span class="std std-ref">Default Configuration of EVC Function and its Auxiliary Functions</span></a> for additional details).  A custom
function can be assigned to <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.value_function" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.value_function"><code class="xref any py py-attr docutils literal"><span class="pre">value_function</span></code></a> so long as it returns a tuple with three items: the calculated
EVC (which must be a scalar value), and the outcome and cost from which it was calculated (these can be scalar
values or <code class="xref any docutils literal"><span class="pre">None</span></code>). If used with the EVCControlMechanism’s default <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.function" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.function"><code class="xref any py py-attr docutils literal"><span class="pre">function</span></code></a>, a
custom <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.value_function" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.value_function"><code class="xref any py py-attr docutils literal"><span class="pre">value_function</span></code></a> must accommodate three arguments (passed by name): a <strong>controller</strong> argument that is
the EVCControlMechanism for which it is carrying out the calculation; an <strong>outcome</strong> argument that is a
value; and a <a class="reference internal" href="ControlMechanism.html#psyneulink.core.components.mechanisms.modulatory.control.controlmechanism.ControlMechanism.costs" title="psyneulink.core.components.mechanisms.modulatory.control.controlmechanism.ControlMechanism.costs"><code class="xref any py py-attr docutils literal"><span class="pre">costs</span></code></a> argument that is a list or ndarray.  A custom function assigned to <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.value_function" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.value_function"><code class="xref any py py-attr docutils literal"><span class="pre">value_function</span></code></a> can
also call any of the <a class="reference internal" href="#evccontrolmechanism-functions"><span class="std std-ref">helper functions</span></a> that it calls (however, see <a class="reference internal" href="#evccontrolmechanism-calling-and-assigning-functions"><span class="std std-ref">note</span></a> above).</p>
</dd></dl>

<dl class="attribute">
<dt id="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.cost_function">
<code class="descname">cost_function</code><a class="headerlink" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.cost_function" title="Permalink to this definition">¶</a></dt>
<dd><p><em>function : default LinearCombination(operation=SUM)</em> – calculates the cost of the <a class="reference internal" href="ControlSignal.html"><span class="doc">ControlSignals</span></a> for the current <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.control_allocation" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.control_allocation"><code class="xref any py py-attr docutils literal"><span class="pre">control_allocation</span></code></a>.  The default
function sums the <a class="reference internal" href="ControlSignal.html#psyneulink.core.components.ports.modulatorysignals.controlsignal.ControlSignal.cost" title="psyneulink.core.components.ports.modulatorysignals.controlsignal.ControlSignal.cost"><code class="xref any py py-attr docutils literal"><span class="pre">cost</span></code></a> of each of the EVCControlMechanism’s <a class="reference internal" href="#evccontrolmechanism-controlsignals"><span class="std std-ref">ControlSignals</span></a>.  The <a class="reference internal" href="CombinationFunctions.html#psyneulink.core.components.functions.combinationfunctions.LinearCombination.weights" title="psyneulink.core.components.functions.combinationfunctions.LinearCombination.weights"><code class="xref any py py-attr docutils literal"><span class="pre">weights</span></code></a> and/or <a class="reference internal" href="CombinationFunctions.html#psyneulink.core.components.functions.combinationfunctions.LinearCombination.exponents" title="psyneulink.core.components.functions.combinationfunctions.LinearCombination.exponents"><code class="xref any py py-attr docutils literal"><span class="pre">exponents</span></code></a> parameters of the function can be used, respectively, to scale and/or
exponentiate the contribution of each ControlSignal cost to the combined cost.  These must be specified as
1d arrays in a <em>WEIGHTS</em> and/or <em>EXPONENTS</em> entry of a <a class="reference internal" href="ParameterPort.html#parameterport-specification"><span class="std std-ref">parameter dictionary</span></a>
assigned to the <strong>params</strong> argument of the constructor of a <a class="reference internal" href="CombinationFunctions.html#psyneulink.core.components.functions.combinationfunctions.LinearCombination" title="psyneulink.core.components.functions.combinationfunctions.LinearCombination"><code class="xref any py py-class docutils literal"><span class="pre">LinearCombination</span></code></a> function; the length of
each array must equal the number of (and the values listed in the same order as) the ControlSignals in the
EVCControlMechanism’s <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.control_signals" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.control_signals"><code class="xref any py py-attr docutils literal"><span class="pre">control_signals</span></code></a> attribute. The default function
can also be replaced with any <a class="reference internal" href="#evccontrolmechanism-calling-and-assigning-functions"><span class="std std-ref">custom function</span></a> that
takes an array as input and returns a scalar value.  If used with the EVCControlMechanism’s default
<a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.value_function" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.value_function"><code class="xref any py py-attr docutils literal"><span class="pre">value_function</span></code></a>, a custom <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.cost_function" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.cost_function"><code class="xref any py py-attr docutils literal"><span class="pre">cost_function</span></code></a> must accommodate two arguments (passed by name): a <strong>controller</strong>
argument that is the EVCControlMechanism itself;  and a <strong>costs</strong> argument that is a 1d array of scalar
values specifying the <a class="reference internal" href="ControlSignal.html#psyneulink.core.components.ports.modulatorysignals.controlsignal.ControlSignal.cost" title="psyneulink.core.components.ports.modulatorysignals.controlsignal.ControlSignal.cost"><code class="xref any py py-attr docutils literal"><span class="pre">cost</span></code></a> for each ControlSignal listed in the <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.control_signals" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.control_signals"><code class="xref any py py-attr docutils literal"><span class="pre">control_signals</span></code></a>
attribute of the ControlMechanism specified in the <strong>controller</strong> argument.</p>
</dd></dl>

<dl class="attribute">
<dt id="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.combine_outcome_and_cost_function">
<code class="descname">combine_outcome_and_cost_function</code><a class="headerlink" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.combine_outcome_and_cost_function" title="Permalink to this definition">¶</a></dt>
<dd><p><em>function : default LinearCombination(operation=SUM)</em> – combines the outcome and cost for given <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.control_allocation" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.control_allocation"><code class="xref any py py-attr docutils literal"><span class="pre">control_allocation</span></code></a> to determine its <code class="xref any docutils literal"><span class="pre">EVC</span></code>.
The default function subtracts the cost from the outcome, and returns the difference.  This can be modified
using the <a class="reference internal" href="CombinationFunctions.html#psyneulink.core.components.functions.combinationfunctions.LinearCombination.weights" title="psyneulink.core.components.functions.combinationfunctions.LinearCombination.weights"><code class="xref any py py-attr docutils literal"><span class="pre">weights</span></code></a> and/or <a class="reference internal" href="CombinationFunctions.html#psyneulink.core.components.functions.combinationfunctions.LinearCombination.exponents" title="psyneulink.core.components.functions.combinationfunctions.LinearCombination.exponents"><code class="xref any py py-attr docutils literal"><span class="pre">exponents</span></code></a> parameters
of the function, as described for the <code class="xref any docutils literal"><span class="pre">cost_function</span></code>.  The default
function can also be replaced with any <a class="reference internal" href="#evccontrolmechanism-calling-and-assigning-functions"><span class="std std-ref">custom function</span></a>
that returns a scalar value.  If used with the EVCControlMechanism’s default <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.value_function" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.value_function"><code class="xref any py py-attr docutils literal"><span class="pre">value_function</span></code></a>, a custom
If used with the EVCControlMechanism’s default <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.value_function" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.value_function"><code class="xref any py py-attr docutils literal"><span class="pre">value_function</span></code></a>, a custom combine_outcome_and_cost_function
must accomodate three arguments (passed by name): a <strong>controller</strong> argument that is the EVCControlMechanism
itself; an <strong>outcome</strong> argument that is a 1d array with the outcome of the current <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.control_allocation" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.control_allocation"><code class="xref any py py-attr docutils literal"><span class="pre">control_allocation</span></code></a>;
and a <strong>cost</strong> argument that is 1d array with the cost of the current <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.control_allocation" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.control_allocation"><code class="xref any py py-attr docutils literal"><span class="pre">control_allocation</span></code></a>.</p>
</dd></dl>

<dl class="attribute">
<dt id="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.control_signal_search_space">
<code class="descname">control_signal_search_space</code><a class="headerlink" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.control_signal_search_space" title="Permalink to this definition">¶</a></dt>
<dd><p><em>2d np.array</em> – an array each item of which is an <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.control_allocation" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.control_allocation"><code class="xref any py py-attr docutils literal"><span class="pre">control_allocation</span></code></a>.  By default, it is assigned the set of all possible
allocation policies, using np.meshgrid to construct all permutations of <a class="reference internal" href="ControlSignal.html"><span class="doc">ControlSignal</span></a> values from the set
specified for each by its <code class="xref any docutils literal"><span class="pre">allocation_samples</span></code> attribute.</p>
</dd></dl>

<dl class="attribute">
<dt id="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.EVC_max">
<code class="descname">EVC_max</code><a class="headerlink" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.EVC_max" title="Permalink to this definition">¶</a></dt>
<dd><p><em>1d np.array with single value</em> – the maximum <a class="reference internal" href="#evccontrolmechanism-evc"><span class="std std-ref">EVC</span></a> value over all allocation policies in <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.control_signal_search_space" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.control_signal_search_space"><code class="xref any py py-attr docutils literal"><span class="pre">control_signal_search_space</span></code></a>.</p>
</dd></dl>

<dl class="attribute">
<dt id="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.EVC_max_port_values">
<code class="descname">EVC_max_port_values</code><a class="headerlink" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.EVC_max_port_values" title="Permalink to this definition">¶</a></dt>
<dd><p><em>2d np.array</em> – an array of the values for the OutputPorts in <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.monitored_output_ports" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.monitored_output_ports"><code class="xref any py py-attr docutils literal"><span class="pre">monitored_output_ports</span></code></a> using the <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.control_allocation" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.control_allocation"><code class="xref any py py-attr docutils literal"><span class="pre">control_allocation</span></code></a> that
generated <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.EVC_max" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.EVC_max"><code class="xref any py py-attr docutils literal"><span class="pre">EVC_max</span></code></a>.</p>
</dd></dl>

<dl class="attribute">
<dt id="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.EVC_max_policy">
<code class="descname">EVC_max_policy</code><a class="headerlink" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.EVC_max_policy" title="Permalink to this definition">¶</a></dt>
<dd><p><em>1d np.array</em> – an array of the ControlSignal <code class="xref any docutils literal"><span class="pre">intensity</span> <span class="pre">&lt;ControlSignal.intensity&gt;</span> <span class="pre">values</span> <span class="pre">for</span> <span class="pre">the</span> <span class="pre">allocation</span> <span class="pre">policy</span> <span class="pre">that</span>
<span class="pre">generated</span> <span class="pre">`EVC_max</span></code>.</p>
</dd></dl>

<dl class="attribute">
<dt id="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.save_all_values_and_policies">
<code class="descname">save_all_values_and_policies</code><a class="headerlink" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.save_all_values_and_policies" title="Permalink to this definition">¶</a></dt>
<dd><p><em>bool : default False</em> – specifies whether or not to save every <code class="xref any docutils literal"><span class="pre">control_allocation</span> <span class="pre">and</span> <span class="pre">associated</span> <span class="pre">EVC</span> <span class="pre">value</span> <span class="pre">(in</span> <span class="pre">addition</span> <span class="pre">to</span> <span class="pre">the</span> <span class="pre">max).</span>
<span class="pre">If</span> <span class="pre">it</span> <span class="pre">is</span> <span class="pre">specified,</span> <span class="pre">each</span> <span class="pre">`control_allocation</span></code> tested in the <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.control_signal_search_space" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.control_signal_search_space"><code class="xref any py py-attr docutils literal"><span class="pre">control_signal_search_space</span></code></a> is saved in
<a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.EVC_policies" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.EVC_policies"><code class="xref any py py-attr docutils literal"><span class="pre">EVC_policies</span></code></a>, and their values are saved in <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.EVC_values" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.EVC_values"><code class="xref any py py-attr docutils literal"><span class="pre">EVC_values</span></code></a>.</p>
</dd></dl>

<dl class="attribute">
<dt id="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.EVC_policies">
<code class="descname">EVC_policies</code><a class="headerlink" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.EVC_policies" title="Permalink to this definition">¶</a></dt>
<dd><p><em>2d np.array</em> – array with every <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.control_allocation" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.control_allocation"><code class="xref any py py-attr docutils literal"><span class="pre">control_allocation</span></code></a> tested in <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.control_signal_search_space" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.control_signal_search_space"><code class="xref any py py-attr docutils literal"><span class="pre">control_signal_search_space</span></code></a>.  The <a class="reference internal" href="#evccontrolmechanism-evc"><span class="std std-ref">EVC</span></a> value of each is stored in <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.EVC_values" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.EVC_values"><code class="xref any py py-attr docutils literal"><span class="pre">EVC_values</span></code></a>.</p>
</dd></dl>

<dl class="attribute">
<dt id="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.EVC_values">
<code class="descname">EVC_values</code><a class="headerlink" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.EVC_values" title="Permalink to this definition">¶</a></dt>
<dd><p><em>1d np.array</em> – array of <a class="reference internal" href="#evccontrolmechanism-evc"><span class="std std-ref">EVC</span></a> values, each of which corresponds to an <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.control_allocation" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.control_allocation"><code class="xref any py py-attr docutils literal"><span class="pre">control_allocation</span></code></a> in
<a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.EVC_policies" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.EVC_policies"><code class="xref any py py-attr docutils literal"><span class="pre">EVC_policies</span></code></a>;</p>
</dd></dl>

<dl class="attribute">
<dt id="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.control_allocation">
<code class="descname">control_allocation</code><a class="headerlink" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.control_allocation" title="Permalink to this definition">¶</a></dt>
<dd><p><em>2d np.array : [[defaultControlAllocation]]</em> – determines the value assigned as the <a class="reference internal" href="Projection.html#psyneulink.core.components.projections.projection.Projection_Base.variable" title="psyneulink.core.components.projections.projection.Projection_Base.variable"><code class="xref any py py-attr docutils literal"><span class="pre">variable</span></code></a> for each <a class="reference internal" href="ControlSignal.html"><span class="doc">ControlSignal</span></a> and its
associated <a class="reference internal" href="ControlProjection.html"><span class="doc">ControlProjection</span></a>.  Each item of the array must be a 1d array (usually containing a scalar)
that specifies an <a class="reference internal" href="ControlSignal.html#psyneulink.core.components.ports.modulatorysignals.controlsignal.ControlSignal.allocation" title="psyneulink.core.components.ports.modulatorysignals.controlsignal.ControlSignal.allocation"><code class="xref any py py-attr docutils literal"><span class="pre">allocation</span></code></a> for the corresponding ControlSignal, and the number of items must equal the
number of ControlSignals in the EVCControlMechanism’s <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.control_signals" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.control_signals"><code class="xref any py py-attr docutils literal"><span class="pre">control_signals</span></code></a> attribute.</p>
</dd></dl>

<dl class="attribute">
<dt id="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.control_signals">
<code class="descname">control_signals</code><a class="headerlink" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.control_signals" title="Permalink to this definition">¶</a></dt>
<dd><p><em>ContentAddressableList[ControlSignal]</em> – list of the EVCControlMechanism’s <a class="reference internal" href="#evccontrolmechanism-controlsignals"><span class="std std-ref">ControlSignals</span></a>, including any that it
inherited from its <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.system" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.system"><code class="xref any py py-attr docutils literal"><span class="pre">system</span></code></a> (same as the EVCControlMechanism’s <a class="reference internal" href="Mechanism.html#psyneulink.core.components.mechanisms.mechanism.Mechanism_Base.output_ports" title="psyneulink.core.components.mechanisms.mechanism.Mechanism_Base.output_ports"><code class="xref any py py-attr docutils literal"><span class="pre">output_ports</span></code></a> attribute); each sends a <a class="reference internal" href="ControlProjection.html"><span class="doc">ControlProjection</span></a> to the <a class="reference internal" href="ParameterPort.html"><span class="doc">ParameterPort</span></a> for the
parameter it controls</p>
</dd></dl>

<dl class="attribute">
<dt id="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.name">
<code class="descname">name</code><a class="headerlink" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.name" title="Permalink to this definition">¶</a></dt>
<dd><p><em>str</em> – the name of the EVCControlMechanism; if it is not specified in the <strong>name</strong> argument of the constructor, a
default is assigned by MechanismRegistry (see <a class="reference internal" href="Naming.html"><span class="doc">Naming</span></a> for conventions used for default and duplicate names).</p>
</dd></dl>

<dl class="attribute">
<dt id="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.prefs">
<code class="descname">prefs</code><a class="headerlink" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.prefs" title="Permalink to this definition">¶</a></dt>
<dd><p><em>PreferenceSet or specification dict</em> – the <a class="reference internal" href="Preferences.html#psyneulink.core.globals.preferences.PreferenceSet" title="psyneulink.core.globals.preferences.PreferenceSet"><code class="xref any py py-class docutils literal"><span class="pre">PreferenceSet</span></code></a> for the EVCControlMechanism; if it is not specified in the <strong>prefs</strong> argument of the
constructor, a default is assigned using <code class="xref any docutils literal"><span class="pre">classPreferences</span></code> defined in __init__.py (see <span class="xref std std-doc">PreferenceSet</span> for details).</p>
</dd></dl>

<dl class="method">
<dt id="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.evaluate">
<code class="descname">evaluate</code><span class="sig-paren">(</span><em>inputs</em>, <em>allocation_vector</em>, <em>context=None</em>, <em>runtime_params=None</em>, <em>reinitialize_values=None</em><span class="sig-paren">)</span><a class="headerlink" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.evaluate" title="Permalink to this definition">¶</a></dt>
<dd><p>Run simulation of <a class="reference internal" href="System.html"><span class="doc">System</span></a> for which the EVCControlMechanism is the <a class="reference internal" href="System.html#psyneulink.core.components.system.System.controller" title="psyneulink.core.components.system.System.controller"><code class="xref any py py-attr docutils literal"><span class="pre">controller</span></code></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>inputs</strong> (<em>List</em><em>[</em><a class="reference internal" href="Process.html#psyneulink.core.components.process.Process.input" title="psyneulink.core.components.process.Process.input"><em>input</em></a><em>] or </em><em>ndarray</em><em>(</em><a class="reference internal" href="Process.html#psyneulink.core.components.process.Process.input" title="psyneulink.core.components.process.Process.input"><em>input</em></a><em>) </em><em>: default default_variable</em>) – the inputs provided to the ORIGIN Mechanisms of the <a class="reference internal" href="System.html"><span class="doc">System</span></a> during each simulation.  This should be the
<code class="xref any docutils literal"><span class="pre">value</span></code>
in the <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.prediction_mechanisms" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.prediction_mechanisms"><code class="xref any py py-attr docutils literal"><span class="pre">prediction_mechanisms</span></code></a> attribute.  The inputs are available in the <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.predicted_input" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.predicted_input"><code class="xref any py py-attr docutils literal"><span class="pre">predicted_input</span></code></a> attribute.</li>
<li><strong>allocation_vector</strong> (<em>(</em><em>1D np.array</em><em>)</em>) – the allocation policy to use in running the simulation, with one allocation value for each of the
EVCControlMechanism’s ControlSignals (listed in <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.control_signals" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.control_signals"><code class="xref any py py-attr docutils literal"><span class="pre">control_signals</span></code></a>).</li>
<li><strong>runtime_params</strong> (<em>Optional</em><em>[</em><em>Dict</em><em>[</em><em>str</em><em>, </em><em>Dict</em><em>[</em><em>str</em><em>, </em><em>Dict</em><em>[</em><em>str</em><em>, </em><a class="reference internal" href="Component.html#psyneulink.core.components.component.Component.value" title="psyneulink.core.components.component.Component.value"><em>value</em></a><em>]</em><em>]</em><em>]</em><em>]</em>) – a dictionary that can include any of the parameters used as arguments to instantiate the mechanisms,
their functions, or Projection(s) to any of their ports.  See <a class="reference internal" href="Mechanism.html#mechanism-runtime-parameters"><span class="std std-ref">Runtime Parameters</span></a> for a full
description.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
</div>


             </article>
             
            </div>
            <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="EVCAuxiliary.html" class="btn btn-neutral float-right" title="EVCAuxiliary" accesskey="n" rel="next">Next <img src="_static/images/chevron-right-orange.svg" class="next-page"></a>
      
      
        <a href="EVC.html" class="btn btn-neutral" title="EVC" accesskey="p" rel="prev"><img src="_static/images/chevron-right-orange.svg" class="previous-page"> Previous</a>
      
    </div>
  

  

    <hr>

  

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, Jonathan D. Cohen.

    </p>
  </div>
    
      <div>
        Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
      </div>
     

</footer>

          </div>
        </div>

        <div class="psyneulink-content-right" id="psyneulink-content-right">
          <div class="psyneulink-right-menu" id="psyneulink-right-menu">
            <div class="psyneulink-side-scroll" id="psyneulink-side-scroll-right">
              <ul>
<li><a class="reference internal" href="#">EVCControlMechanism</a><ul>
<li><a class="reference internal" href="#overview">Overview</a><ul>
<li><a class="reference internal" href="#expected-value-of-control-evc"><em>Expected Value of Control (EVC)</em></a></li>
</ul>
</li>
<li><a class="reference internal" href="#creating-an-evccontrolmechanism">Creating an EVCControlMechanism</a></li>
<li><a class="reference internal" href="#structure">Structure</a><ul>
<li><a class="reference internal" href="#input"><em>Input</em></a><ul>
<li><a class="reference internal" href="#objectivemechanism">ObjectiveMechanism</a></li>
<li><a class="reference internal" href="#prediction-mechanisms">Prediction Mechanisms</a></li>
</ul>
</li>
<li><a class="reference internal" href="#function"><em>Function</em></a><ul>
<li><a class="reference internal" href="#default-configuration-of-evc-function-and-its-auxiliary-functions">Default Configuration of EVC Function and its Auxiliary Functions</a></li>
</ul>
</li>
<li><a class="reference internal" href="#controlsignals"><em>ControlSignals</em></a></li>
</ul>
</li>
<li><a class="reference internal" href="#execution">Execution</a></li>
<li><a class="reference internal" href="#class-reference">Class Reference</a></li>
</ul>
</li>
</ul>

            </div>
          </div>
        </div>
      </section>
    </div>

  


  

     
       <script type="text/javascript">
           var DOCUMENTATION_OPTIONS = {
               URL_ROOT:'./',
               VERSION:'0.7.5.4+35.gf391678',
               LANGUAGE:'None',
               COLLAPSE_INDEX:false,
               FILE_SUFFIX:'.html',
               HAS_SOURCE:  true,
               SOURCELINK_SUFFIX: '.txt'
           };
       </script>
         <script type="text/javascript" src="_static/jquery.js"></script>
         <script type="text/javascript" src="_static/underscore.js"></script>
         <script type="text/javascript" src="_static/doctools.js"></script>
         <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
     

  

  <script type="text/javascript" src="_static/js/vendor/popper.min.js"></script>
  <script type="text/javascript" src="_static/js/vendor/bootstrap.min.js"></script>
  <script type="text/javascript" src="_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

  <!-- Begin Footer -->

  <footer class="site-footer" id="docs-tutorials-resources">
    <div class="container footer-container">
      <div class="footer-logo-wrapper">
        <a href="https://princetonuniversity.github.io/PsyNeuLink/" class="footer-logo"></a>
      </div>

  </footer>

  

  <!-- End Footer -->

  <!-- Begin Mobile Menu -->

  <div class="mobile-main-menu">
    <div class="container-fluid">
      <div class="container mobile-logo-container">
        <div class="mobile-main-menu-header-container">
          <a class="header-logo" href="https://princetonuniversity.github.io/PsyNeuLink/" aria-label="PsyNeuLink"></a>
          <a class="main-menu-close-button" href="#" data-behavior="close-mobile-menu"></a>
        </div>
      </div>
    </div>

    <div class="mobile-main-menu-links-container">
      <div class="main-menu">
        <ul>
          <li>
            <a href="https://github.com/PrincetonUniversity/PsyNeuLink">Github</a>
          </li>
        </ul>
      </div>
    </div>
  </div>

  <!-- End Mobile Menu -->

  <script type="text/javascript" src="_static/js/vendor/anchor.min.js"></script>

  <script type="text/javascript">
    $(document).ready(function() {
      mobileMenu.bind();
      mobileTOC.bind();
      psyneulinkAnchors.bind();
      sideMenus.bind();
      scrollToAnchor.bind();
      highlightNavigation.bind();
      mainMenuDropdown.bind();

      // Add class to links that have code blocks, since we cannot create links in code blocks
      $("article.psyneulink-article a span.pre").each(function(e) {
        $(this).closest("a").addClass("has-code");
      });
    })
  </script>
</body>
</html>