


<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>EVCAuxiliary &mdash; PsyNeuLink 0.7.3.0+81.g561c5c2 documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!-- <link rel="stylesheet" href="_static/pygments.css" type="text/css" /> -->
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Models" href="Models.html" />
    <link rel="prev" title="EVCControlMechanism" href="EVCControlMechanism.html" /> 

  
  <script src="_static/js/modernizr.min.js"></script>

  <!-- Preload the theme fonts -->

<link rel="preload" href="_static/fonts/FreightSans/freight-sans-book.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="_static/fonts/FreightSans/freight-sans-medium.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="_static/fonts/IBMPlexMono/IBMPlexMono-Medium.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="_static/fonts/FreightSans/freight-sans-bold.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="_static/fonts/FreightSans/freight-sans-medium-italic.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="_static/fonts/IBMPlexMono/IBMPlexMono-SemiBold.woff2" as="font" type="font/woff2" crossorigin="anonymous">

<!-- Preload the katex fonts -->

<link rel="preload" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/fonts/KaTeX_Math-Italic.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/fonts/KaTeX_Main-Regular.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/fonts/KaTeX_Main-Bold.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/fonts/KaTeX_Size1-Regular.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/fonts/KaTeX_Size4-Regular.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/fonts/KaTeX_Size2-Regular.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/fonts/KaTeX_Size3-Regular.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/fonts/KaTeX_Caligraphic-Regular.woff2" as="font" type="font/woff2" crossorigin="anonymous">
</head>

<div class="container-fluid header-holder tutorials-header" id="header-holder">
  <div class="container">
    <div class="header-container">
      <a class="header-logo" href="https://princetonuniversity.github.io/PsyNeuLink/"></a>
<!--      <a class="header-logo"></a>-->
      <div class="main-menu">
        <ul>
          <li>
            <a href="https://github.com/PrincetonUniversity/PsyNeuLink">Github</a>
          </li>
        </ul>
      </div>

      <a class="main-menu-open-button" href="#" data-behavior="open-mobile-menu"></a>
    </div>

  </div>
</div>


<body class="psyneulink-body">

   

    

    <div class="table-of-contents-link-wrapper">
      <span>Table of Contents</span>
      <a href="#" class="toggle-table-of-contents" data-behavior="toggle-table-of-contents"></a>
    </div>

    <nav data-toggle="wy-nav-shift" class="psyneulink-left-menu" id="psyneulink-left-menu">
      <div class="psyneulink-side-scroll">
        <div class="psyneulink-menu psyneulink-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          <div class="psyneulink-left-menu-search">
            

            
              
              
                <div class="version">
                  0.7.3.0+81
                </div>
              
            

            


  


<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search Docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

            
          </div>

          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="index.html">Welcome to PsyNeuLink </a></li>
<li class="toctree-l1"><a class="reference internal" href="BasicsAndSampler.html">Basics and Sampler</a></li>
<li class="toctree-l1"><a class="reference internal" href="QuickReference.html">Quick Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="Core.html">Core</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="Library.html">Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="ContributorsGuide.html">Contributors Guide</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <div class="psyneulink-container">
      <div class="psyneulink-page-level-bar" id="psyneulink-page-level-bar">
        <div class="psyneulink-breadcrumbs-wrapper">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="psyneulink-breadcrumbs">
    
      <li>
        <a href="index.html">
          
            Docs
          
        </a> &gt;
      </li>

        
          <li><a href="Library.html">Library</a> &gt;</li>
        
          <li><a href="Subystems.html">Subsystems</a> &gt;</li>
        
          <li><a href="EVC.html">EVC</a> &gt;</li>
        
      <li>EVCAuxiliary</li>
    
  </ul>

  
</div>
        </div>

        <div class="psyneulink-shortcuts-wrapper" id="psyneulink-shortcuts-wrapper">
          Shortcuts
        </div>
      </div>

      <section data-toggle="wy-nav-shift" id="psyneulink-content-wrap" class="psyneulink-content-wrap">
        <div class="psyneulink-content-left">

        
          
          <div class="rst-content">
          
            <div role="main" class="main-content" itemscope="itemscope" itemtype="http://schema.org/Article">
             <article itemprop="articleBody" id="psyneulink-article" class="psyneulink-article">
              
  <div class="section" id="evcauxiliary">
<h1>EVCAuxiliary<a class="headerlink" href="#evcauxiliary" title="Permalink to this headline">¶</a></h1>
<div class="toctree-wrapper compound">
</div>
<span class="target" id="module-psyneulink.library.components.mechanisms.modulatory.control.evc.evcauxiliary"></span><p>Auxiliary functions for <a class="reference internal" href="EVCControlMechanism.html"><span class="doc">EVCControlMechanism</span></a>.</p>
<dl class="class">
<dt id="psyneulink.library.components.mechanisms.modulatory.control.evc.evcauxiliary.ValueFunction">
<em class="property">class </em><code class="descclassname">psyneulink.library.components.mechanisms.modulatory.control.evc.evcauxiliary.</code><code class="descname">ValueFunction</code><span class="sig-paren">(</span><em>function=None</em><span class="sig-paren">)</span><a class="headerlink" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evcauxiliary.ValueFunction" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the <a class="reference internal" href="EVCControlMechanism.html#evccontrolmechanism-evc"><span class="std std-ref">EVC</span></a> for a given performance outcome and set of costs.</p>
<p>ValueFunction takes as its arguments an outcome (a value representing the performance of a <a class="reference internal" href="System.html"><span class="doc">System</span></a>)
and list of costs (each reflecting the <a class="reference internal" href="ControlSignal.html#psyneulink.core.components.ports.modulatorysignals.controlsignal.ControlSignal.cost" title="psyneulink.core.components.ports.modulatorysignals.controlsignal.ControlSignal.cost"><code class="xref any py py-attr docutils literal"><span class="pre">cost</span></code></a> of a <a class="reference internal" href="ControlSignal.html"><span class="doc">ControlSignal</span></a> of the <code class="xref any docutils literal"><span class="pre">controller</span>
<span class="pre">System.controller</span></code> of that System), and returns an <a class="reference internal" href="EVCControlMechanism.html#evccontrolmechanism-evc"><span class="std std-ref">expected value of control (EVC)</span></a>
based on these (along with the outcome and combination of costs used to calculate the EVC).</p>
<p>ValueFunction is the default for an EVCControlMechanism’s <a class="reference internal" href="EVCControlMechanism.html#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.value_function" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.value_function"><code class="xref any py py-attr docutils literal"><span class="pre">value_function</span></code></a>
attribute, and it is called by <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evcauxiliary.ControlSignalGridSearch" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evcauxiliary.ControlSignalGridSearch"><code class="xref any py py-class docutils literal"><span class="pre">ControlSignalGridSearch</span></code></a> (the EVCControlMechanism’s default <a class="reference internal" href="EVCControlMechanism.html#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.function" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.function"><code class="xref any py py-attr docutils literal"><span class="pre">function</span></code></a>).</p>
<p>The ValueFunction’s default <code class="xref any docutils literal"><span class="pre">function</span></code> calculates the EVC using the result of the
<code class="xref any docutils literal"><span class="pre">function</span> <span class="pre">&lt;ObjectiveMechanism.function</span></code> of the EVCControlMechanism’s <a class="reference internal" href="EVCControlMechanism.html#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.objective_mechanism" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.objective_mechanism"><code class="xref any py py-attr docutils literal"><span class="pre">objective_mechanism</span></code></a>, and two auxiliary functions specified in corresponding attributes of
the EVCControlMechanism: <a class="reference internal" href="EVCControlMechanism.html#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.cost_function" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.cost_function"><code class="xref any py py-attr docutils literal"><span class="pre">cost_function</span></code></a> and <a class="reference internal" href="EVCControlMechanism.html#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.combine_outcome_and_cost_function" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.combine_outcome_and_cost_function"><code class="xref any py py-attr docutils literal"><span class="pre">combine_outcome_and_cost_function</span></code></a>. The calculation of the EVC
provided by ValueFunction can be modified by customizing or replacing any of these functions, or by replacing the
ValueFunction’s <code class="xref any docutils literal"><span class="pre">function</span></code> itself (in the EVCControlMechanism’s <a class="reference internal" href="EVCControlMechanism.html#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.value_function" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.value_function"><code class="xref any py py-attr docutils literal"><span class="pre">value_function</span></code></a> attribute). Replacement functions must use the same format (number and type
of items) for its arguments and return values (see <a class="reference internal" href="EVCControlMechanism.html#evccontrolmechanism-calling-and-assigning-functions"><span class="std std-ref">note</span></a>).</p>
</dd></dl>

<dl class="class">
<dt id="psyneulink.library.components.mechanisms.modulatory.control.evc.evcauxiliary.ControlSignalGridSearch">
<em class="property">class </em><code class="descclassname">psyneulink.library.components.mechanisms.modulatory.control.evc.evcauxiliary.</code><code class="descname">ControlSignalGridSearch</code><span class="sig-paren">(</span><em>default_variable=None</em>, <em>params=None</em>, <em>function=None</em>, <em>owner=None</em><span class="sig-paren">)</span><a class="headerlink" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evcauxiliary.ControlSignalGridSearch" title="Permalink to this definition">¶</a></dt>
<dd><p>Conduct an exhaustive search of allocation polices and return the one with the maximum <a class="reference internal" href="EVCControlMechanism.html#evccontrolmechanism-evc"><span class="std std-ref">EVC</span></a>.</p>
<p>This is the default <a class="reference internal" href="EVCControlMechanism.html#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.function" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.function"><code class="xref any py py-attr docutils literal"><span class="pre">function</span></code></a> for an EVCControlMechanism. It identifies the
<a class="reference internal" href="ControlMechanism.html#psyneulink.core.components.mechanisms.modulatory.control.controlmechanism.ControlMechanism.control_allocation" title="psyneulink.core.components.mechanisms.modulatory.control.controlmechanism.ControlMechanism.control_allocation"><code class="xref any py py-attr docutils literal"><span class="pre">control_allocation</span></code></a> with the maximum <a class="reference internal" href="EVCControlMechanism.html#evccontrolmechanism-evc"><span class="std std-ref">EVC</span></a> by a conducting a grid search over every
possible <a class="reference internal" href="ControlMechanism.html#psyneulink.core.components.mechanisms.modulatory.control.controlmechanism.ControlMechanism.control_allocation" title="psyneulink.core.components.mechanisms.modulatory.control.controlmechanism.ControlMechanism.control_allocation"><code class="xref any py py-attr docutils literal"><span class="pre">control_allocation</span></code></a> given the <a class="reference internal" href="ControlSignal.html#psyneulink.core.components.ports.modulatorysignals.controlsignal.ControlSignal.allocation_samples" title="psyneulink.core.components.ports.modulatorysignals.controlsignal.ControlSignal.allocation_samples"><code class="xref any py py-attr docutils literal"><span class="pre">allocation_samples</span></code></a> specified for each of its ControlSignals (i.e.,
the <a class="reference external" href="https://en.wikipedia.org/wiki/Cartesian_product">Cartesian product</a> of the <a class="reference internal" href="ControlSignal.html#psyneulink.core.components.ports.modulatorysignals.controlsignal.ControlSignal.allocation" title="psyneulink.core.components.ports.modulatorysignals.controlsignal.ControlSignal.allocation"><code class="xref any py py-attr docutils literal"><span class="pre">allocation</span></code></a> values specified by the <a class="reference internal" href="ControlSignal.html#psyneulink.core.components.ports.modulatorysignals.controlsignal.ControlSignal.allocation_samples" title="psyneulink.core.components.ports.modulatorysignals.controlsignal.ControlSignal.allocation_samples"><code class="xref any py py-attr docutils literal"><span class="pre">allocation_samples</span></code></a> attribute of each ControlSignal).  The
full set of allocation policies is stored in the EVCControlMechanism’s <a class="reference internal" href="EVCControlMechanism.html#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.control_signal_search_space" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.control_signal_search_space"><code class="xref any py py-attr docutils literal"><span class="pre">control_signal_search_space</span></code></a> attribute.
The EVCControlMechanism’s <a class="reference internal" href="Composition.html#psyneulink.core.compositions.composition.Composition.evaluate" title="psyneulink.core.compositions.composition.Composition.evaluate"><code class="xref any py py-meth docutils literal"><span class="pre">evaluate</span></code></a> method is used to simulate its <a class="reference internal" href="EVCControlMechanism.html#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.system" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.system"><code class="xref any py py-attr docutils literal"><span class="pre">system</span></code></a>
under each <a class="reference internal" href="ControlMechanism.html#psyneulink.core.components.mechanisms.modulatory.control.controlmechanism.ControlMechanism.control_allocation" title="psyneulink.core.components.mechanisms.modulatory.control.controlmechanism.ControlMechanism.control_allocation"><code class="xref any py py-attr docutils literal"><span class="pre">control_allocation</span></code></a> in <a class="reference internal" href="EVCControlMechanism.html#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.control_signal_search_space" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.control_signal_search_space"><code class="xref any py py-attr docutils literal"><span class="pre">control_signal_search_space</span></code></a>, calculate the EVC for each of those policies,
and return the policy with the greatest EVC. By default, only the maximum EVC is saved and returned.  However,
setting the <a class="reference internal" href="EVCControlMechanism.html#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.save_all_values_and_policies" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.save_all_values_and_policies"><code class="xref any py py-attr docutils literal"><span class="pre">save_all_values_and_policies</span></code></a> attribute to <code class="xref any docutils literal"><span class="pre">True</span></code> saves each policy and its EVC for each simulation
run (in the EVCControlMechanism’s <a class="reference internal" href="EVCControlMechanism.html#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.EVC_policies" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.EVC_policies"><code class="xref any py py-attr docutils literal"><span class="pre">EVC_policies</span></code></a> and <a class="reference internal" href="EVCControlMechanism.html#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.EVC_values" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.EVC_values"><code class="xref any py py-attr docutils literal"><span class="pre">EVC_values</span></code></a> attributes, respectively). The EVC is
calculated for each policy by iterating over the following steps:</p>
<ul>
<li><p class="first">Select an control_allocation:</p>
<blockquote>
<div><p>draw a successive item from <a class="reference internal" href="EVCControlMechanism.html#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.control_signal_search_space" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.control_signal_search_space"><code class="xref any py py-attr docutils literal"><span class="pre">control_signal_search_space</span></code></a> in each iteration, and assign each of its values as
the <a class="reference internal" href="ControlSignal.html#psyneulink.core.components.ports.modulatorysignals.controlsignal.ControlSignal.allocation" title="psyneulink.core.components.ports.modulatorysignals.controlsignal.ControlSignal.allocation"><code class="xref any py py-attr docutils literal"><span class="pre">allocation</span></code></a> value for the corresponding ControlSignal for that simulation of the <a class="reference internal" href="EVCControlMechanism.html#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.system" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.system"><code class="xref any py py-attr docutils literal"><span class="pre">system</span></code></a>.</p>
</div></blockquote>
</li>
<li><p class="first">Simulate performance:</p>
<blockquote>
<div><p>execute the <a class="reference internal" href="EVCControlMechanism.html#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.system" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.system"><code class="xref any py py-attr docutils literal"><span class="pre">system</span></code></a> under the selected <a class="reference internal" href="ControlMechanism.html#psyneulink.core.components.mechanisms.modulatory.control.controlmechanism.ControlMechanism.control_allocation" title="psyneulink.core.components.mechanisms.modulatory.control.controlmechanism.ControlMechanism.control_allocation"><code class="xref any py py-attr docutils literal"><span class="pre">control_allocation</span></code></a> using the
EVCControlMechanism’s <a class="reference internal" href="EVCControlMechanism.html#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.evaluate" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.evaluate"><code class="xref any py py-meth docutils literal"><span class="pre">evaluate</span></code></a> method, and the <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evcauxiliary.PredictionMechanism.value" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evcauxiliary.PredictionMechanism.value"><code class="xref any py py-attr docutils literal"><span class="pre">value</span></code></a>s of its <a class="reference internal" href="EVCControlMechanism.html#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.prediction_mechanisms" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.prediction_mechanisms"><code class="xref any py py-attr docutils literal"><span class="pre">prediction_mechanisms</span></code></a> as
the input to the corresponding <a class="reference internal" href="Utilities.html#psyneulink.core.globals.utilities.NodeRole.ORIGIN" title="psyneulink.core.globals.utilities.NodeRole.ORIGIN"><code class="xref any py py-attr docutils literal"><span class="pre">ORIGIN</span></code></a> Mechanisms of the <a class="reference internal" href="EVCControlMechanism.html#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.system" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.system"><code class="xref any py py-attr docutils literal"><span class="pre">system</span></code></a> it controls;
the values of all <span class="xref std std-ref">stateful attributes</span> of ‘Components` in the System are <span class="xref std std-ref">re-initialized</span> to the
same value prior to each simulation, so that the results for each <a class="reference internal" href="EVCControlMechanism.html#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.control_allocation" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.control_allocation"><code class="xref any py py-attr docutils literal"><span class="pre">control_allocation</span></code></a> are based on the same initial conditions.  Each simulation includes
execution of the EVCControlMechanism’s <a class="reference internal" href="AGTControlMechanism.html#psyneulink.library.components.mechanisms.modulatory.control.agt.agtcontrolmechanism.AGTControlMechanism.objective_mechanism" title="psyneulink.library.components.mechanisms.modulatory.control.agt.agtcontrolmechanism.AGTControlMechanism.objective_mechanism"><code class="xref any py py-attr docutils literal"><span class="pre">objective_mechanism</span></code></a>, which provides the result to the
EVCControlMechanism.  If <a class="reference internal" href="EVCControlMechanism.html#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.system" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.system"><code class="xref any py py-attr docutils literal"><span class="pre">system</span></code></a>.recordSimulationPref is <code class="xref any docutils literal"><span class="pre">True</span></code>,
the results of each simulation are appended to the <code class="xref any docutils literal"><span class="pre">simulation_results</span></code>
attribute of <a class="reference internal" href="EVCControlMechanism.html#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.system" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.system"><code class="xref any py py-attr docutils literal"><span class="pre">system</span></code></a>.</p>
</div></blockquote>
</li>
<li><p class="first">Calculate the EVC:</p>
<blockquote>
<div><p>call the EVCControlMechanism’s <code class="xref any docutils literal"><span class="pre">value_function</span></code> to calculate the EVC for
the current iteration, using three values (see <a class="reference internal" href="EVCControlMechanism.html#evccontrolmechanism-functions"><span class="std std-ref">Function</span></a> for additional details):</p>
<ul class="simple">
<li>the EVCControlMechanism’s <code class="xref any docutils literal"><span class="pre">input</span></code>, which is the result of its <a class="reference internal" href="EVCControlMechanism.html#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.objective_mechanism" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.objective_mechanism"><code class="xref any py py-attr docutils literal"><span class="pre">objective_mechanism</span></code></a>’s <a class="reference internal" href="ObjectiveMechanism.html#psyneulink.core.components.mechanisms.processing.objectivemechanism.ObjectiveMechanism.function" title="psyneulink.core.components.mechanisms.processing.objectivemechanism.ObjectiveMechanism.function"><code class="xref any py py-attr docutils literal"><span class="pre">function</span></code></a>) and provides an
evaluation of the outcome of processing in the <a class="reference internal" href="EVCControlMechanism.html#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.system" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.system"><code class="xref any py py-attr docutils literal"><span class="pre">system</span></code></a> under the current
<a class="reference internal" href="ControlMechanism.html#psyneulink.core.components.mechanisms.modulatory.control.controlmechanism.ControlMechanism.control_allocation" title="psyneulink.core.components.mechanisms.modulatory.control.controlmechanism.ControlMechanism.control_allocation"><code class="xref any py py-attr docutils literal"><span class="pre">control_allocation</span></code></a>;</li>
</ul>
<div class="line-block">
<div class="line"><br /></div>
</div>
<ul class="simple">
<li>the result of the <code class="xref any docutils literal"><span class="pre">cost</span></code> function, called by the <code class="xref any docutils literal"><span class="pre">value_function</span></code>, that returns the cost for the <a class="reference internal" href="ControlMechanism.html#psyneulink.core.components.mechanisms.modulatory.control.controlmechanism.ControlMechanism.control_allocation" title="psyneulink.core.components.mechanisms.modulatory.control.controlmechanism.ControlMechanism.control_allocation"><code class="xref any py py-attr docutils literal"><span class="pre">control_allocation</span></code></a> based on
the current <a class="reference internal" href="ControlSignal.html#psyneulink.core.components.ports.modulatorysignals.controlsignal.ControlSignal.cost" title="psyneulink.core.components.ports.modulatorysignals.controlsignal.ControlSignal.cost"><code class="xref any py py-attr docutils literal"><span class="pre">cost</span></code></a> associated with each of its ControlSignals;</li>
</ul>
<div class="line-block">
<div class="line"><br /></div>
</div>
<ul class="simple">
<li>the result of the <code class="xref any docutils literal"><span class="pre">combine</span></code> function, called by the <code class="xref any docutils literal"><span class="pre">value_function</span></code>, that returns the EVC by subtracting the cost from the outcome</li>
</ul>
</div></blockquote>
</li>
<li><p class="first">Save the values:</p>
<blockquote>
<div><p>if the <a class="reference internal" href="EVCControlMechanism.html#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.save_all_values_and_policies" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.save_all_values_and_policies"><code class="xref any py py-attr docutils literal"><span class="pre">save_all_values_and_policies</span></code></a> attribute is <code class="xref any docutils literal"><span class="pre">True</span></code>, save allocation policy in the EVCControlMechanism’s
<a class="reference internal" href="EVCControlMechanism.html#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.EVC_policies" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.EVC_policies"><code class="xref any py py-attr docutils literal"><span class="pre">EVC_policies</span></code></a> attribute, and its value is saved in the <a class="reference internal" href="EVCControlMechanism.html#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.EVC_values" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.EVC_values"><code class="xref any py py-attr docutils literal"><span class="pre">EVC_values</span></code></a> attribute; otherwise, retain only
maximum EVC value.</p>
</div></blockquote>
</li>
</ul>
<p>The ControlSignalGridSearch function returns the <a class="reference internal" href="ControlMechanism.html#psyneulink.core.components.mechanisms.modulatory.control.controlmechanism.ControlMechanism.control_allocation" title="psyneulink.core.components.mechanisms.modulatory.control.controlmechanism.ControlMechanism.control_allocation"><code class="xref any py py-attr docutils literal"><span class="pre">control_allocation</span></code></a> that yielded the maximum EVC.
Its operation can be modified by customizing or replacing any or all of the functions referred to above
(also see <a class="reference internal" href="EVCControlMechanism.html#evccontrolmechanism-functions"><span class="std std-ref">Function</span></a>).</p>
</dd></dl>

<dl class="class">
<dt id="psyneulink.library.components.mechanisms.modulatory.control.evc.evcauxiliary.PredictionMechanism">
<em class="property">class </em><code class="descclassname">psyneulink.library.components.mechanisms.modulatory.control.evc.evcauxiliary.</code><code class="descname">PredictionMechanism</code><span class="sig-paren">(</span><em>default_variable=None</em>, <em>size=None</em>, <em>function=TIME_AVERAGE_INPUT</em>, <em>initial_value=None</em>, <em>window_size=1</em>, <em>filter_function=None</em>, <em>params=None</em>, <em>name=None</em>, <em>prefs=None</em><span class="sig-paren">)</span><a class="headerlink" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evcauxiliary.PredictionMechanism" title="Permalink to this definition">¶</a></dt>
<dd><p>Tracks the inputs to an <a class="reference internal" href="Utilities.html#psyneulink.core.globals.utilities.NodeRole.ORIGIN" title="psyneulink.core.globals.utilities.NodeRole.ORIGIN"><code class="xref any py py-attr docutils literal"><span class="pre">ORIGIN</span></code></a> Mechanism of the <a class="reference internal" href="EVCControlMechanism.html#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.system" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.system"><code class="xref any py py-attr docutils literal"><span class="pre">system</span></code></a> controlled by an
<a class="reference internal" href="EVCControlMechanism.html"><span class="doc">EVCControlMechanism</span></a>, and used to generate the input for that <a class="reference internal" href="Utilities.html#psyneulink.core.globals.utilities.NodeRole.ORIGIN" title="psyneulink.core.globals.utilities.NodeRole.ORIGIN"><code class="xref any py py-attr docutils literal"><span class="pre">ORIGIN</span></code></a> Mechanism in a <a class="reference internal" href="EVCControlMechanism.html#evccontrolmechanism-execution"><span class="std std-ref">simulated run</span></a> of that System.</p>
<p id="predictionmechanism-creation"><strong>Creating a PredictionMechanism</strong></p>
<p>PredictionMechanisms are created automatically when an <a class="reference internal" href="EVCControlMechanism.html"><span class="doc">EVCControlMechanism</span></a> is created, one for each <a class="reference internal" href="Utilities.html#psyneulink.core.globals.utilities.NodeRole.ORIGIN" title="psyneulink.core.globals.utilities.NodeRole.ORIGIN"><code class="xref any py py-attr docutils literal"><span class="pre">ORIGIN</span></code></a>
Mechanism in the <a class="reference internal" href="EVCControlMechanism.html#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.system" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.system"><code class="xref any py py-attr docutils literal"><span class="pre">system</span></code></a> for which the EVCControlMechanism is a <a class="reference internal" href="System.html#psyneulink.core.components.system.System.controller" title="psyneulink.core.components.system.System.controller"><code class="xref any py py-attr docutils literal"><span class="pre">controller</span></code></a>. PredictionMechanisms should not be created on their own, as their execution requires
tight integration with an EVCControlMechanism and the System to which it belongs, and they will not function
properly if this is not insured.</p>
<p><strong>Structure</strong></p>
<p>The <a class="reference internal" href="System.html"><span class="doc">System</span></a> to which a PredictionMechanism belongs is referenced in its <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evcauxiliary.PredictionMechanism.system" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evcauxiliary.PredictionMechanism.system"><code class="xref any py py-attr docutils literal"><span class="pre">system</span></code></a>
attribute, and the System’s <a class="reference internal" href="Utilities.html#psyneulink.core.globals.utilities.NodeRole.ORIGIN" title="psyneulink.core.globals.utilities.NodeRole.ORIGIN"><code class="xref any py py-attr docutils literal"><span class="pre">ORIGIN</span></code></a> Mechanism which the PredictionMechanism is associated is referenced in its
<a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evcauxiliary.PredictionMechanism.origin_mechanism" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evcauxiliary.PredictionMechanism.origin_mechanism"><code class="xref any py py-attr docutils literal"><span class="pre">origin_mechanism</span></code></a> attribute.  A PredictionMechanism has the same number
of <a class="reference internal" href="InputPort.html"><span class="doc">InputPorts</span></a> as its <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evcauxiliary.PredictionMechanism.origin_mechanism" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evcauxiliary.PredictionMechanism.origin_mechanism"><code class="xref any py py-attr docutils literal"><span class="pre">origin_mechanism</span></code></a>, each of which
receives a <a class="reference internal" href="Projection.html"><span class="doc">Projection</span></a> from the same source as the corresponding InputPort of its <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evcauxiliary.PredictionMechanism.origin_mechanism" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evcauxiliary.PredictionMechanism.origin_mechanism"><code class="xref any py py-attr docutils literal"><span class="pre">origin_mechanism</span></code></a> (see <a class="reference internal" href="EVCControlMechanism.html#evccontrolmechanism-prediction-mechanisms"><span class="std std-ref">Prediction Mechanisms</span></a>); and it has one
<a class="reference internal" href="OutputPort.html"><span class="doc">OutputPort</span></a> for each of its InputPorts.</p>
<p id="predictionmechanism-function"><strong>Function</strong></p>
<p>The <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evcauxiliary.PredictionMechanism.function" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evcauxiliary.PredictionMechanism.function"><code class="xref any py py-attr docutils literal"><span class="pre">function</span></code></a> of a PredictionMechanism records the input received by its
<a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evcauxiliary.PredictionMechanism.origin_mechanism" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evcauxiliary.PredictionMechanism.origin_mechanism"><code class="xref any py py-attr docutils literal"><span class="pre">origin_mechanism</span></code></a>, and possibly transforms this in some way.  Any
function can be assigned, so long as it can take as its input a value with the same format as the <a class="reference internal" href="Mechanism.html#psyneulink.core.components.mechanisms.mechanism.Mechanism_Base.variable" title="psyneulink.core.components.mechanisms.mechanism.Mechanism_Base.variable"><code class="xref any py py-attr docutils literal"><span class="pre">variable</span></code></a> of its <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evcauxiliary.PredictionMechanism.origin_mechanism" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evcauxiliary.PredictionMechanism.origin_mechanism"><code class="xref any py py-attr docutils literal"><span class="pre">origin_mechanism</span></code></a>, and returns a
similarly formatted value or a list of them.  The result of a PredictionMechanism’s <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evcauxiliary.PredictionMechanism.function" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evcauxiliary.PredictionMechanism.function"><code class="xref any py py-attr docutils literal"><span class="pre">function</span></code></a> is provided as the input to its <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evcauxiliary.PredictionMechanism.origin_mechanism" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evcauxiliary.PredictionMechanism.origin_mechanism"><code class="xref any py py-attr docutils literal"><span class="pre">origin_mechanism</span></code></a> in each trial of a simulated run of its <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evcauxiliary.PredictionMechanism.system" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evcauxiliary.PredictionMechanism.system"><code class="xref any py py-attr docutils literal"><span class="pre">system</span></code></a> (see <a class="reference internal" href="EVCControlMechanism.html#evccontrolmechanism-execution"><span class="std std-ref">EVCControlMechanism Execution</span></a>).  If a
PredictionMechanism’s <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evcauxiliary.PredictionMechanism.function" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evcauxiliary.PredictionMechanism.function"><code class="xref any py py-attr docutils literal"><span class="pre">function</span></code></a> returns more than one item,
then the EVCControlMechanism runs as many simulations as there are items, using each as the input for one
simulation, and computes the mean EVC over all of them.  Therefore, <strong>the</strong> <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evcauxiliary.PredictionMechanism.function" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evcauxiliary.PredictionMechanism.function"><code class="xref any py py-attr docutils literal"><span class="pre">function</span></code></a> <strong>of every PredictionMechanism associated with an</strong> <a class="reference internal" href="EVCControlMechanism.html"><span class="doc">EVCControlMechanism</span></a>
<strong>must return the same number of items.</strong></p>
<p>In place of a function, the following keywords can be used to specify one of three standard configurations:</p>
<ul class="simple">
<li><em>INPUT:</em> uses an <a class="reference internal" href="TransferFunctions.html#psyneulink.core.components.functions.transferfunctions.Linear" title="psyneulink.core.components.functions.transferfunctions.Linear"><code class="xref any py py-class docutils literal"><span class="pre">Linear</span></code></a> Function to simply pass the input it receives as its output, possibly modified by the
values specified in the PredictionMechanism’s <strong>rate</strong> and <strong>noise</strong> arguments.  If those are specified, they
are assigned as the <a class="reference internal" href="TransferFunctions.html#psyneulink.core.components.functions.transferfunctions.Linear" title="psyneulink.core.components.functions.transferfunctions.Linear"><code class="xref any py py-class docutils literal"><span class="pre">Linear</span></code></a> function’s <a class="reference internal" href="TransferFunctions.html#psyneulink.core.components.functions.transferfunctions.Linear.slope" title="psyneulink.core.components.functions.transferfunctions.Linear.slope"><code class="xref any py py-attr docutils literal"><span class="pre">slope</span></code></a> and <a class="reference internal" href="TransferFunctions.html#psyneulink.core.components.functions.transferfunctions.Linear.intercept" title="psyneulink.core.components.functions.transferfunctions.Linear.intercept"><code class="xref any py py-attr docutils literal"><span class="pre">intercept</span></code></a> parameters,
respectively.</li>
<li><em>TIME_AVERAGE_INPUT:</em> uses an <a class="reference internal" href="IntegratorFunctions.html#psyneulink.core.components.functions.statefulfunctions.integratorfunctions.AdaptiveIntegrator" title="psyneulink.core.components.functions.statefulfunctions.integratorfunctions.AdaptiveIntegrator"><code class="xref any py py-class docutils literal"><span class="pre">AdaptiveIntegrator</span></code></a> Function to compute an exponentially weighted
time-average of the input to the PredictionMechanism; the PredictionMechanism’s <strong>rate</strong> and <strong>noise</strong>
arguments can be used to specify the corresponding <a class="reference internal" href="IntegratorFunctions.html#psyneulink.core.components.functions.statefulfunctions.integratorfunctions.AdaptiveIntegrator.rate" title="psyneulink.core.components.functions.statefulfunctions.integratorfunctions.AdaptiveIntegrator.rate"><code class="xref any py py-attr docutils literal"><span class="pre">rate</span></code></a> and <a class="reference internal" href="IntegratorFunctions.html#psyneulink.core.components.functions.statefulfunctions.integratorfunctions.AdaptiveIntegrator.noise" title="psyneulink.core.components.functions.statefulfunctions.integratorfunctions.AdaptiveIntegrator.noise"><code class="xref any py py-attr docutils literal"><span class="pre">noise</span></code></a> parameters of the function.  The function returns the time-averaged input
as a single item.</li>
<li><em>AVERAGE_INPUTS:</em> uses a <a class="reference internal" href="MemoryFunctions.html#psyneulink.core.components.functions.statefulfunctions.memoryfunctions.Buffer" title="psyneulink.core.components.functions.statefulfunctions.memoryfunctions.Buffer"><code class="xref any py py-class docutils literal"><span class="pre">Buffer</span></code></a> Function to compute the average of the number of preceding inputs specified in
the PredictionMechanism’s <strong>window_size</strong> argument.  If the <strong>rate</strong> and/or <strong>noise</strong> arguments are specified,
they are applied to each item in the list before it is averaged, as follows: <span class="math">\(item * rate + noise\)</span>.</li>
</ul>
<ul class="simple" id="predictionmechanism-input-sequence">
<li><em>INPUT_SEQUENCE:</em> uses a <a class="reference internal" href="MemoryFunctions.html#psyneulink.core.components.functions.statefulfunctions.memoryfunctions.Buffer" title="psyneulink.core.components.functions.statefulfunctions.memoryfunctions.Buffer"><code class="xref any py py-class docutils literal"><span class="pre">Buffer</span></code></a> Function to maintain a running record of preceding inputs, which are returned
in a list. When the EVCControlMechanism <a class="reference internal" href="EVCControlMechanism.html#evccontrolmechanism-execution"><span class="std std-ref">runs a simulation</span></a>, one trial is run
using each item in the list as the input to the PredictionMechanism’s <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evcauxiliary.PredictionMechanism.origin_mechanism" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evcauxiliary.PredictionMechanism.origin_mechanism"><code class="xref any py py-attr docutils literal"><span class="pre">origin_mechanism</span></code></a>. The <strong>window_size</strong> argument can be used to specify how many preceding
inputs should be maintained in the record; if the number of preceding inputs exceeds the value of
<strong>window_size</strong>, the oldest is deleted and the most recent one is added to the list.  If <strong>window_size</strong> is not
specified (<code class="xref any docutils literal"><span class="pre">None</span></code>), a record of all preceding inputs is maintained and returned. The <strong>filter_function</strong>
argument can be used to specify a function that filters the list (e.g., modifies and/or deletes items);  the
modified list is then returned by the PredictionMechanism’s <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evcauxiliary.PredictionMechanism.function" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evcauxiliary.PredictionMechanism.function"><code class="xref any py py-attr docutils literal"><span class="pre">function</span></code></a>.  If the
<strong>rate</strong> and/or <strong>noise</strong> arguments are specified, they are applied to each item in the list, as follows:
<span class="math">\(item * rate + noise\)</span>;  note that since the list is maintained across trials in the actual run of the
<a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evcauxiliary.PredictionMechanism.system" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evcauxiliary.PredictionMechanism.system"><code class="xref any py py-attr docutils literal"><span class="pre">system</span></code></a>, the effects of these parameters are cumulative over trials.</li>
</ul>
<p><strong>Execution</strong></p>
<p>A PredictionMechanism is executed each time its <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evcauxiliary.PredictionMechanism" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evcauxiliary.PredictionMechanism"><code class="xref any py py-class docutils literal"><span class="pre">system</span></code></a> is run; however, it is <strong>not</strong>
executed when that System is simulated (that is, it is run using the EVCControlMechanism’s <a class="reference internal" href="EVCControlMechanism.html#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.evaluate" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.evaluate"><code class="xref any py py-meth docutils literal"><span class="pre">evaluate</span></code></a> method).  Thus, its inputs are updated only once per <em>actual</em> run of the
System, and each simulated run (i.e., the simulation for each <a class="reference internal" href="EVCControlMechanism.html#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.control_allocation" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.control_allocation"><code class="xref any py py-attr docutils literal"><span class="pre">control_allocation</span></code></a>; see <a class="reference internal" href="EVCControlMechanism.html#evccontrolmechanism-execution"><span class="std std-ref">EVCControlMechanism Execution</span></a>)
uses the <em>exact same</em> set of inputs – the value of the PredictionMechanisms resulting from the last actual run
of its <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evcauxiliary.PredictionMechanism.system" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evcauxiliary.PredictionMechanism.system"><code class="xref any py py-attr docutils literal"><span class="pre">system</span></code></a>) – so that the results of the simulated run for each
<a class="reference internal" href="EVCControlMechanism.html#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.control_allocation" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.control_allocation"><code class="xref any py py-attr docutils literal"><span class="pre">control_allocation</span></code></a> can properly be compared. If the PredictionMechanisms
for an EVCControlMechanism generate a list of inputs (e.g., using <a class="reference internal" href="#predictionmechanism-input-sequence"><span class="std std-ref">INPUT_SEQUENCE</span></a>), then each simulated run involves several trials, each of which uses one
item from the list of each PredictionMechanism as the input to its <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evcauxiliary.PredictionMechanism.origin_mechanism" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evcauxiliary.PredictionMechanism.origin_mechanism"><code class="xref any py py-attr docutils literal"><span class="pre">origin_mechanism</span></code></a>;  items in the list are used as inputs in the exact same sequence for the
simulated run of every <a class="reference internal" href="EVCControlMechanism.html#psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.control_allocation" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evccontrolmechanism.EVCControlMechanism.control_allocation"><code class="xref any py py-attr docutils literal"><span class="pre">control_allocation</span></code></a> so that, once again,
proper comparisons can be made between policies.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>default_variable</strong> (<em>number</em><em>, </em><em>list</em><em> or </em><em>np.ndarray : default None</em>) – specifies the input to the Mechanism to use if none is provided in a call to its
<a class="reference internal" href="Mechanism.html#psyneulink.core.components.mechanisms.mechanism.Mechanism_Base.execute" title="psyneulink.core.components.mechanisms.mechanism.Mechanism_Base.execute"><code class="xref any py py-meth docutils literal"><span class="pre">execute</span></code></a> or <a class="reference internal" href="Mechanism.html#psyneulink.core.components.mechanisms.mechanism.Mechanism_Base.run" title="psyneulink.core.components.mechanisms.mechanism.Mechanism_Base.run"><code class="xref any py py-meth docutils literal"><span class="pre">run</span></code></a> method; format must match the
<code class="xref any docutils literal"><span class="pre">variable</span></code> for its <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evcauxiliary.PredictionMechanism.origin_mechanism" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evcauxiliary.PredictionMechanism.origin_mechanism"><code class="xref any py py-attr docutils literal"><span class="pre">origin_mechanism</span></code></a>.</li>
<li><strong>size</strong> (<em>int</em><em>, </em><em>list</em><em> or </em><em>np.ndarray of ints</em>) – see <code class="xref any docutils literal"><span class="pre">size</span></code>.</li>
<li><strong>function</strong> (function, <em>INPUT</em>, <em>TIME_AVERAGE_INPUT</em>, <em>AVERAGE_INPUTS</em>, or <em>INPUT_SEQUENCE</em> : default) – </li>
<li><strong>*TIME_AVERAGE_INPUT*</strong> – specifies the function used to generate the input provided to its <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evcauxiliary.PredictionMechanism.origin_mechanism" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evcauxiliary.PredictionMechanism.origin_mechanism"><code class="xref any py py-attr docutils literal"><span class="pre">origin_mechanism</span></code></a>; the function must take as its input a single value with the same
format as the <code class="xref any docutils literal"><span class="pre">variable</span></code> of its <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evcauxiliary.PredictionMechanism.origin_mechanism" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evcauxiliary.PredictionMechanism.origin_mechanism"><code class="xref any py py-attr docutils literal"><span class="pre">origin_mechanism</span></code></a>,
and must return a similarly formatted value or a list of them (see <a class="reference internal" href="#predictionmechanism-function"><span class="std std-ref">above</span></a>
for additional details).</li>
<li><strong>initial_value</strong> (<a class="reference internal" href="Component.html#psyneulink.core.components.component.Component.value" title="psyneulink.core.components.component.Component.value"><em>value</em></a><em>, </em><em>list</em><em> or </em><em>np.ndarray : default None</em>) – specifies value used to initialize the PredictionMechanism’s <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evcauxiliary.PredictionMechanism.value" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evcauxiliary.PredictionMechanism.value"><code class="xref any py py-attr docutils literal"><span class="pre">value</span></code></a> attribute;
if <code class="xref any docutils literal"><span class="pre">None</span></code> is specified, 0 is used if the <code class="xref any docutils literal"><span class="pre">value</span></code> of the PredictionMechanism’s <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evcauxiliary.PredictionMechanism.function" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evcauxiliary.PredictionMechanism.function"><code class="xref any py py-attr docutils literal"><span class="pre">function</span></code></a> is numeric, and an empty list is used if <em>INPUT_SEQUENCE</em> is specified.</li>
<li><strong>window_size</strong> (<em>int : default None</em>) – specifies number of input values to maintain when <em>INPUT_SEQUENCE</em> option is used for
<a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evcauxiliary.PredictionMechanism.function" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evcauxiliary.PredictionMechanism.function"><code class="xref any py py-attr docutils literal"><span class="pre">function</span></code></a></li>
<li><strong>filter_function</strong> (<em>function : default None</em>) – specifies a function that takes a list of values, each of which has the same format as the <a class="reference internal" href="Mechanism.html#psyneulink.core.components.mechanisms.mechanism.Mechanism_Base.variable" title="psyneulink.core.components.mechanisms.mechanism.Mechanism_Base.variable"><code class="xref any py py-attr docutils literal"><span class="pre">variable</span></code></a> of the PredictionMechanism’s <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evcauxiliary.PredictionMechanism.origin_mechanism" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evcauxiliary.PredictionMechanism.origin_mechanism"><code class="xref any py py-attr docutils literal"><span class="pre">origin_mechanism</span></code></a>, and returns a list of similarly formatted values, though not
necessarily of the same length (see <a class="reference internal" href="#predictionmechanism-function"><span class="std std-ref">above</span></a> for additional details).</li>
<li><strong>params</strong> (<em>Dict</em><em>[</em><em>param keyword: param value</em><em>] </em><em>: default None</em>) – a <a class="reference internal" href="ParameterPort.html#parameterport-specification"><span class="std std-ref">parameter dictionary</span></a> that can be used to specify the parameters for
the Mechanism, its <a class="reference internal" href="Mechanism.html#psyneulink.core.components.mechanisms.mechanism.Mechanism_Base.function" title="psyneulink.core.components.mechanisms.mechanism.Mechanism_Base.function"><code class="xref any py py-attr docutils literal"><span class="pre">function</span></code></a>, and/or a custom function and its parameters.  Values
specified for parameters in the dictionary override any assigned to those parameters in arguments of the
constructor.</li>
<li><strong>name</strong> (str : default see <code class="xref any docutils literal"><span class="pre">name</span></code>) – specifies the name of the TransferMechanism.</li>
<li><strong>prefs</strong> (<a class="reference internal" href="Preferences.html#psyneulink.core.globals.preferences.PreferenceSet" title="psyneulink.core.globals.preferences.PreferenceSet"><em>PreferenceSet</em></a><em> or </em><em>specification dict : default Mechanism.classPreferences</em>) – specifies the <a class="reference internal" href="Preferences.html#psyneulink.core.globals.preferences.PreferenceSet" title="psyneulink.core.globals.preferences.PreferenceSet"><code class="xref any py py-class docutils literal"><span class="pre">PreferenceSet</span></code></a> for the TransferMechanism; see <code class="xref any docutils literal"><span class="pre">prefs</span></code> for details.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="psyneulink.library.components.mechanisms.modulatory.control.evc.evcauxiliary.PredictionMechanism.system">
<code class="descname">system</code><a class="headerlink" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evcauxiliary.PredictionMechanism.system" title="Permalink to this definition">¶</a></dt>
<dd><p><em>System</em> – the <a class="reference internal" href="System.html"><span class="doc">System</span></a> to which the PredictionMechanism belongs.</p>
</dd></dl>

<dl class="attribute">
<dt id="psyneulink.library.components.mechanisms.modulatory.control.evc.evcauxiliary.PredictionMechanism.origin_mechanism">
<code class="descname">origin_mechanism</code><a class="headerlink" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evcauxiliary.PredictionMechanism.origin_mechanism" title="Permalink to this definition">¶</a></dt>
<dd><p><em>Mechanism</em> – the <a class="reference internal" href="Utilities.html#psyneulink.core.globals.utilities.NodeRole.ORIGIN" title="psyneulink.core.globals.utilities.NodeRole.ORIGIN"><code class="xref any py py-attr docutils literal"><span class="pre">ORIGIN</span></code></a> Mechanism with which the PredictionMechanism is associated (in its <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evcauxiliary.PredictionMechanism.system" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evcauxiliary.PredictionMechanism.system"><code class="xref any py py-attr docutils literal"><span class="pre">system</span></code></a>), and the input of which it tracks.</p>
</dd></dl>

<dl class="attribute">
<dt id="psyneulink.library.components.mechanisms.modulatory.control.evc.evcauxiliary.PredictionMechanism.variable">
<code class="descname">variable</code><a class="headerlink" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evcauxiliary.PredictionMechanism.variable" title="Permalink to this definition">¶</a></dt>
<dd><p><em>2d np.array</em> – the input received from the PredictionMechanism’s <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evcauxiliary.PredictionMechanism.system" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evcauxiliary.PredictionMechanism.system"><code class="xref any py py-attr docutils literal"><span class="pre">system</span></code></a>, that is identical
to the input received by its <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evcauxiliary.PredictionMechanism.origin_mechanism" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evcauxiliary.PredictionMechanism.origin_mechanism"><code class="xref any py py-attr docutils literal"><span class="pre">origin_mechanism</span></code></a>.</p>
</dd></dl>

<dl class="attribute">
<dt id="psyneulink.library.components.mechanisms.modulatory.control.evc.evcauxiliary.PredictionMechanism.function">
<code class="descname">function</code><a class="headerlink" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evcauxiliary.PredictionMechanism.function" title="Permalink to this definition">¶</a></dt>
<dd><p><em>Function</em> – used to track the inputs to the PredictionMechanism’s <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evcauxiliary.PredictionMechanism.origin_mechanism" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evcauxiliary.PredictionMechanism.origin_mechanism"><code class="xref any py py-attr docutils literal"><span class="pre">origin_mechanism</span></code></a>;
the default is an <a class="reference internal" href="IntegratorFunctions.html#psyneulink.core.components.functions.statefulfunctions.integratorfunctions.AdaptiveIntegrator" title="psyneulink.core.components.functions.statefulfunctions.integratorfunctions.AdaptiveIntegrator"><code class="xref any py py-class docutils literal"><span class="pre">AdaptiveIntegrator</span></code></a> (see <a class="reference internal" href="#predictionmechanism-function"><span class="std std-ref">above</span></a> for additional details).</p>
</dd></dl>

<dl class="attribute">
<dt id="psyneulink.library.components.mechanisms.modulatory.control.evc.evcauxiliary.PredictionMechanism.value">
<code class="descname">value</code><a class="headerlink" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evcauxiliary.PredictionMechanism.value" title="Permalink to this definition">¶</a></dt>
<dd><p><em>3d np.array</em> – result returned by the PredictionMechanism’s <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evcauxiliary.PredictionMechanism.function" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evcauxiliary.PredictionMechanism.function"><code class="xref any py py-attr docutils literal"><span class="pre">function</span></code></a>, and provided as
input to its <a class="reference internal" href="#psyneulink.library.components.mechanisms.modulatory.control.evc.evcauxiliary.PredictionMechanism.origin_mechanism" title="psyneulink.library.components.mechanisms.modulatory.control.evc.evcauxiliary.PredictionMechanism.origin_mechanism"><code class="xref any py py-attr docutils literal"><span class="pre">origin_mechanism</span></code></a>.  The format conforms to that of a
System’s <a class="reference internal" href="System.html#psyneulink.core.components.system.System.run" title="psyneulink.core.components.system.System.run"><code class="xref any py py-meth docutils literal"><span class="pre">run</span></code></a> method: items in the outermost dimension (axis 0) correspond to the inputs for
each trial of a simulation, each of which is a 2d np.array containing the input for each <a class="reference internal" href="InputPort.html"><span class="doc">InputPort</span></a> of the
<a class="reference internal" href="Mechanism.html"><span class="doc">Mechanism</span></a>.</p>
</dd></dl>

</dd></dl>

</div>


             </article>
             
            </div>
            <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="Models.html" class="btn btn-neutral float-right" title="Models" accesskey="n" rel="next">Next <img src="_static/images/chevron-right-orange.svg" class="next-page"></a>
      
      
        <a href="EVCControlMechanism.html" class="btn btn-neutral" title="EVCControlMechanism" accesskey="p" rel="prev"><img src="_static/images/chevron-right-orange.svg" class="previous-page"> Previous</a>
      
    </div>
  

  

    <hr>

  

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, Jonathan D. Cohen.

    </p>
  </div>
    
      <div>
        Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
      </div>
     

</footer>

          </div>
        </div>

        <div class="psyneulink-content-right" id="psyneulink-content-right">
          <div class="psyneulink-right-menu" id="psyneulink-right-menu">
            <div class="psyneulink-side-scroll" id="psyneulink-side-scroll-right">
              <ul>
<li><a class="reference internal" href="#">EVCAuxiliary</a></li>
</ul>

            </div>
          </div>
        </div>
      </section>
    </div>

  


  

     
       <script type="text/javascript">
           var DOCUMENTATION_OPTIONS = {
               URL_ROOT:'./',
               VERSION:'0.7.3.0+81.g561c5c2',
               LANGUAGE:'None',
               COLLAPSE_INDEX:false,
               FILE_SUFFIX:'.html',
               HAS_SOURCE:  true,
               SOURCELINK_SUFFIX: '.txt'
           };
       </script>
         <script type="text/javascript" src="_static/jquery.js"></script>
         <script type="text/javascript" src="_static/underscore.js"></script>
         <script type="text/javascript" src="_static/doctools.js"></script>
         <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
     

  

  <script type="text/javascript" src="_static/js/vendor/popper.min.js"></script>
  <script type="text/javascript" src="_static/js/vendor/bootstrap.min.js"></script>
  <script type="text/javascript" src="_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

  <!-- Begin Footer -->

  <footer class="site-footer" id="docs-tutorials-resources">
    <div class="container footer-container">
      <div class="footer-logo-wrapper">
        <a href="https://princetonuniversity.github.io/PsyNeuLink/" class="footer-logo"></a>
      </div>

  </footer>

  

  <!-- End Footer -->

  <!-- Begin Mobile Menu -->

  <div class="mobile-main-menu">
    <div class="container-fluid">
      <div class="container mobile-logo-container">
        <div class="mobile-main-menu-header-container">
          <a class="header-logo" href="https://princetonuniversity.github.io/PsyNeuLink/" aria-label="PsyNeuLink"></a>
          <a class="main-menu-close-button" href="#" data-behavior="close-mobile-menu"></a>
        </div>
      </div>
    </div>

    <div class="mobile-main-menu-links-container">
      <div class="main-menu">
        <ul>
          <li>
            <a href="https://github.com/PrincetonUniversity/PsyNeuLink">Github</a>
          </li>
        </ul>
      </div>
    </div>
  </div>

  <!-- End Mobile Menu -->

  <script type="text/javascript" src="_static/js/vendor/anchor.min.js"></script>

  <script type="text/javascript">
    $(document).ready(function() {
      mobileMenu.bind();
      mobileTOC.bind();
      psyneulinkAnchors.bind();
      sideMenus.bind();
      scrollToAnchor.bind();
      highlightNavigation.bind();
      mainMenuDropdown.bind();

      // Add class to links that have code blocks, since we cannot create links in code blocks
      $("article.psyneulink-article a span.pre").each(function(e) {
        $(this).closest("a").addClass("has-code");
      });
    })
  </script>
</body>
</html>